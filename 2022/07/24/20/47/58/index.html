<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/black/pace-theme-loading-bar.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.imxtz.top","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.11.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="MySQL基础认识数据库">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL基础学习笔记">
<meta property="og:url" content="http://www.imxtz.top/2022/07/24/20/47/58/index.html">
<meta property="og:site_name" content="熊涛子の个人博客">
<meta property="og:description" content="MySQL基础认识数据库">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-07-24T12:47:58.301Z">
<meta property="article:modified_time" content="2022-07-24T12:49:01.484Z">
<meta property="article:author" content="熊涛子">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://www.imxtz.top/2022/07/24/20/47/58/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.imxtz.top/2022/07/24/20/47/58/","path":"2022/07/24/20/47/58/","title":"MySQL基础学习笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>MySQL基础学习笔记 | 熊涛子の个人博客</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><!--需要JQuery的支持-->
<script type="text/javascript" src ="/js/clicker.js" ></script> 
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">熊涛子の个人博客</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">MySQL基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.1.</span> <span class="nav-text">认识数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.1.</span> <span class="nav-text">数据库的相关概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A5%BD%E5%A4%84%EF%BC%9A"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">数据库的好处：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">数据库的概念：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">数据库存储数据的特点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%9A"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">常见的数据库管理系统：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.2.</span> <span class="nav-text">MySQL的介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E7%9A%84%E8%83%8C%E6%99%AF%EF%BC%9A"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">MySQL的背景：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E4%BA%A7%E5%93%81%E7%9A%84%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">MySQL产品的特点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">SQL的优点：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E3%80%81%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="nav-number">1.1.3.</span> <span class="nav-text">MySQL的下载安装、配置与使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E7%9A%84%E4%B8%8B%E8%BD%BD%EF%BC%9A"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">MySQL的下载：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2%EF%BC%9A"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">MySQL服务的启动和停止：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.4.</span> <span class="nav-text">MySQL的常见命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E8%AF%AD%E6%B3%95%E8%A7%84%E8%8C%83"><span class="nav-number">1.1.5.</span> <span class="nav-text">MySQL语法规范</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DQL%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="nav-number">1.2.</span> <span class="nav-text">DQL语言的学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.1.</span> <span class="nav-text">基础查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.2.</span> <span class="nav-text">条件查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%9B%E9%80%89"><span class="nav-number">1.2.2.2.1.</span> <span class="nav-text">按条件表达式筛选</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%9B%E9%80%89%EF%BC%9A"><span class="nav-number">1.2.2.2.2.</span> <span class="nav-text">按逻辑表达式筛选：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.2.2.3.</span> <span class="nav-text">模糊查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-number">1.2.2.2.4.</span> <span class="nav-text">经典面试题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.3.</span> <span class="nav-text">排序查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-1"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">特点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.</span> <span class="nav-text">常见函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">单行函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.1.</span> <span class="nav-text">字符函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.2.</span> <span class="nav-text">数学函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.3.</span> <span class="nav-text">日期函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.4.</span> <span class="nav-text">其他函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.1.5.</span> <span class="nav-text">流程控制函数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">分组函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-number">1.2.4.2.1.</span> <span class="nav-text">功能</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-1"><span class="nav-number">1.2.4.2.2.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-2"><span class="nav-number">1.2.4.2.3.</span> <span class="nav-text">特点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.5.</span> <span class="nav-text">分组查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-3"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.6.</span> <span class="nav-text">连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%AB%E4%B9%89"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">含义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF"><span class="nav-number">1.2.6.2.</span> <span class="nav-text">笛卡尔积</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-2"><span class="nav-number">1.2.6.3.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E5%B9%B4%E4%BB%A3%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.6.3.1.</span> <span class="nav-text">按年代分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E5%8A%9F%E8%83%BD%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.6.3.2.</span> <span class="nav-text">按功能分类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81sql92%E6%A0%87%E5%87%86"><span class="nav-number">1.2.6.4.</span> <span class="nav-text">一、sql92标准</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.4.1.</span> <span class="nav-text">等值连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.4.2.</span> <span class="nav-text">非等值连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.4.3.</span> <span class="nav-text">自连接</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81sql99%E6%A0%87%E5%87%86"><span class="nav-number">1.2.6.5.</span> <span class="nav-text">二、sql99标准</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="nav-number">1.2.6.5.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.5.2.</span> <span class="nav-text">内连接</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-5"><span class="nav-number">1.2.6.5.2.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-4"><span class="nav-number">1.2.6.5.2.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-3"><span class="nav-number">1.2.6.5.2.3.</span> <span class="nav-text">分类</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.5.3.</span> <span class="nav-text">外连接</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.2.6.5.3.1.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-5"><span class="nav-number">1.2.6.5.3.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-1"><span class="nav-number">1.2.6.5.3.3.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.6.5.4.</span> <span class="nav-text">交叉连接</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.7.</span> <span class="nav-text">子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-4"><span class="nav-number">1.2.7.2.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-number">1.2.7.2.1.</span> <span class="nav-text">按子查询出现的位置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%89%E7%BB%93%E6%9E%9C%E9%9B%86%E7%9A%84%E8%A1%8C%E5%88%97%E6%95%B0%E4%B8%8D%E5%90%8C"><span class="nav-number">1.2.7.2.2.</span> <span class="nav-text">按结果集的行列数不同</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81where%E6%88%96having%E5%90%8E%E9%9D%A2"><span class="nav-number">1.2.7.3.</span> <span class="nav-text">一、where或having后面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-6"><span class="nav-number">1.2.7.3.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-5"><span class="nav-number">1.2.7.3.2.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%87%E9%87%8F%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%8D%95%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="nav-number">1.2.7.3.2.1.</span> <span class="nav-text">标量子查询（单行子查询）</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A4%9A%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="nav-number">1.2.7.3.2.2.</span> <span class="nav-text">列子查询（多行子查询）</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A4%9A%E5%88%97%E5%A4%9A%E8%A1%8C%EF%BC%89"><span class="nav-number">1.2.7.3.2.3.</span> <span class="nav-text">行子查询（多列多行）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81select-%E5%90%8E%E9%9D%A2"><span class="nav-number">1.2.7.4.</span> <span class="nav-text">二、select 后面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81from%E5%90%8E%E9%9D%A2"><span class="nav-number">1.2.7.5.</span> <span class="nav-text">三、from后面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81exists%E5%90%8E%E9%9D%A2"><span class="nav-number">1.2.7.6.</span> <span class="nav-text">四、exists后面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.8.</span> <span class="nav-text">分页查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="nav-number">1.2.8.1.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-7"><span class="nav-number">1.2.8.2.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-6"><span class="nav-number">1.2.8.3.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-2"><span class="nav-number">1.2.8.4.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#union%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.9.</span> <span class="nav-text">union联合查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-7"><span class="nav-number">1.2.9.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2"><span class="nav-number">1.2.9.2.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-8"><span class="nav-number">1.2.9.3.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-3"><span class="nav-number">1.2.9.4.</span> <span class="nav-text">案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DML%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="nav-number">1.3.</span> <span class="nav-text">DML语言的学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.3.1.</span> <span class="nav-text">一、插入语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">插入语句方式一</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-8"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">1.3.1.1.2.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">插入语句方式二</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-9"><span class="nav-number">1.3.1.2.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-4"><span class="nav-number">1.3.1.2.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%AF%94%E8%BE%83"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">插入语句两种方式比较</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.3.2.</span> <span class="nav-text">二、修改语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%8D%95%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95%E2%98%85"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">修改单表的记录★</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-10"><span class="nav-number">1.3.2.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-5"><span class="nav-number">1.3.2.1.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%A4%9A%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95-%E8%A1%A5%E5%85%85"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">修改多表的记录[补充]</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-11"><span class="nav-number">1.3.2.2.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-6"><span class="nav-number">1.3.2.2.2.</span> <span class="nav-text">案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.3.3.</span> <span class="nav-text">三、删除语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9Adelete"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">删除语句方式一：delete</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-12"><span class="nav-number">1.3.3.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-7"><span class="nav-number">1.3.3.1.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9Atruncate"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">删除语句方式二：truncate</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-13"><span class="nav-number">1.3.3.2.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB-%E2%98%85%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">删除语句两种方式的区别[★面试题]</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DDL%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="nav-number">1.4.</span> <span class="nav-text">DDL语言的学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%93%E5%92%8C%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.1.</span> <span class="nav-text">库和表的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%BA%93%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">一、库的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.4.1.1.1.</span> <span class="nav-text">1.库的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-14"><span class="nav-number">1.4.1.1.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-8"><span class="nav-number">1.4.1.1.1.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E5%BA%93%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="nav-number">1.4.1.1.2.</span> <span class="nav-text">2.库的修改</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E5%BA%93%E7%9A%84%E5%88%A0%E9%99%A4"><span class="nav-number">1.4.1.1.3.</span> <span class="nav-text">3.库的删除</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-15"><span class="nav-number">1.4.1.1.3.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-9"><span class="nav-number">1.4.1.1.3.2.</span> <span class="nav-text">案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">二、表的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.4.1.2.1.</span> <span class="nav-text">1.表的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-16"><span class="nav-number">1.4.1.2.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-10"><span class="nav-number">1.4.1.2.1.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E8%A1%A8%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="nav-number">1.4.1.2.2.</span> <span class="nav-text">2.表的修改</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E8%A1%A8%E7%9A%84%E5%88%A0%E9%99%A4"><span class="nav-number">1.4.1.2.3.</span> <span class="nav-text">3.表的删除</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="nav-number">1.4.1.2.4.</span> <span class="nav-text">4.表的复制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.4.2.</span> <span class="nav-text">常见数据类型介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%95%B4%E5%9E%8B"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">一、整型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-6"><span class="nav-number">1.4.2.1.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-9"><span class="nav-number">1.4.2.1.2.</span> <span class="nav-text">特点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%B0%8F%E6%95%B0"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">二、小数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-7"><span class="nav-number">1.4.2.2.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-10"><span class="nav-number">1.4.2.2.2.</span> <span class="nav-text">特点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E5%9E%8B"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">三、字符型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-8"><span class="nav-number">1.4.2.3.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-11"><span class="nav-number">1.4.2.3.2.</span> <span class="nav-text">特点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%97%A5%E6%9C%9F%E5%9E%8B"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">四、日期型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-9"><span class="nav-number">1.4.2.4.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E7%82%B9-12"><span class="nav-number">1.4.2.4.2.</span> <span class="nav-text">特点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.</span> <span class="nav-text">常见约束</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%B1%BB-10"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">一、创建表时添加约束</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E6%B7%BB%E5%8A%A0%E5%88%97%E7%BA%A7%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.2.1.</span> <span class="nav-text">1.添加列级约束</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%B7%BB%E5%8A%A0%E8%A1%A8%E7%BA%A7%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.2.2.</span> <span class="nav-text">2.添加表级约束</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%9A%E7%94%A8%E5%86%99%E6%B3%95"><span class="nav-number">1.4.3.2.3.</span> <span class="nav-text">通用写法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">二、修改表时添加约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E5%88%A0%E9%99%A4%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">三、修改表时删除约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%A0%87%E8%AF%86%E5%88%97"><span class="nav-number">1.4.3.5.</span> <span class="nav-text">四、标识列</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%A0%87%E8%AF%86%E5%88%97"><span class="nav-number">1.4.3.5.1.</span> <span class="nav-text">一、创建表时设置标识列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E8%AE%BE%E7%BD%AE%E6%A0%87%E8%AF%86%E5%88%97"><span class="nav-number">1.4.3.5.2.</span> <span class="nav-text">二、修改表时设置标识列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%97%B6%E5%88%A0%E9%99%A4%E6%A0%87%E8%AF%86%E5%88%97"><span class="nav-number">1.4.3.5.3.</span> <span class="nav-text">三、修改表时删除标识列</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCL%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="nav-number">1.5.</span> <span class="nav-text">TCL语言的学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E5%92%8C%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86"><span class="nav-number">1.5.1.</span> <span class="nav-text">事务和事务处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E-%E4%BA%86%E8%A7%A3"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">MySQL中的存储引擎[了解]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E5%B1%9E%E6%80%A7-%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">事务的ACID属性[经典面试题]</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">事务的创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="nav-number">1.5.1.4.</span> <span class="nav-text">数据库的隔离级别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8MySQL%E4%B8%AD%E8%AE%BE%E7%BD%AE%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="nav-number">1.5.1.5.</span> <span class="nav-text">在MySQL中设置隔离级别</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AE%B2%E8%A7%A3"><span class="nav-number">1.6.</span> <span class="nav-text">视图的讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.1.</span> <span class="nav-text">一、创建视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-17"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-11"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.2.</span> <span class="nav-text">二、修改视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-18"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.3.</span> <span class="nav-text">三、删除视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-19"><span class="nav-number">1.6.3.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.4.</span> <span class="nav-text">四、查看视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95-20"><span class="nav-number">1.6.4.1.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE"><span class="nav-number">1.6.5.</span> <span class="nav-text">五、更新视图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.1.</span> <span class="nav-text">一、系统变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">全局变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">会话变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.2.</span> <span class="nav-text">自定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.2.1.</span> <span class="nav-text">用户变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.2.2.</span> <span class="nav-text">局部变量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-number">1.8.</span> <span class="nav-text">存储过程和函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">1.8.1.</span> <span class="nav-text">存储过程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95"><span class="nav-number">1.8.1.1.</span> <span class="nav-text">一、创建语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%B0%83%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="nav-number">1.8.1.2.</span> <span class="nav-text">二、调用语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">1.8.1.3.</span> <span class="nav-text">三、删除存储过程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">1.8.1.4.</span> <span class="nav-text">四、查看存储过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">1.8.2.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95-1"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">一、创建语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E8%B0%83%E7%94%A8%E8%AF%AD%E6%B3%95-1"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">二、调用语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E7%9C%8B%E5%87%BD%E6%95%B0"><span class="nav-number">1.8.2.3.</span> <span class="nav-text">三、查看函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0"><span class="nav-number">1.8.2.4.</span> <span class="nav-text">四、删除函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="nav-number">1.9.</span> <span class="nav-text">流程控制结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="nav-number">1.9.1.</span> <span class="nav-text">一、分支结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="nav-number">1.9.2.</span> <span class="nav-text">二、循环结构</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="熊涛子"
      src="https://s1.ax1x.com/2022/04/20/Ly9Dc6.jpg#/images/avatar.gif">
  <p class="site-author-name" itemprop="name">熊涛子</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/GT-2001" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;GT-2001" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.imxtz.top/2022/07/24/20/47/58/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://s1.ax1x.com/2022/04/20/Ly9Dc6.jpg#/images/avatar.gif">
      <meta itemprop="name" content="熊涛子">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="熊涛子の个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="MySQL基础学习笔记 | 熊涛子の个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL基础学习笔记
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-07-24 20:47:58 / 修改时间：20:49:01" itemprop="dateCreated datePublished" datetime="2022-07-24T20:47:58+08:00">2022-07-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>36k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>33 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="MySQL基础"><a href="#MySQL基础" class="headerlink" title="MySQL基础"></a>MySQL基础</h1><h2 id="认识数据库"><a href="#认识数据库" class="headerlink" title="认识数据库"></a>认识数据库</h2>  <span id="more"></span>

<h3 id="数据库的相关概念"><a href="#数据库的相关概念" class="headerlink" title="数据库的相关概念"></a>数据库的相关概念</h3><h4 id="数据库的好处："><a href="#数据库的好处：" class="headerlink" title="数据库的好处："></a>数据库的好处：</h4><ul>
<li><p>实现数据持久化到本地</p>
</li>
<li><p>使用完整的管理系统统一管理，易于查询</p>
</li>
</ul>
<h4 id="数据库的概念："><a href="#数据库的概念：" class="headerlink" title="数据库的概念："></a>数据库的概念：</h4><ul>
<li><p><strong>DB</strong>：数据库（database）;存储数据的“仓库，它保存了一系列有组织的数据。</p>
</li>
<li><p><strong>DBMS</strong>：数据库管理系统（Database Management System）;数据库是通过DBMS创建和操作的容器。</p>
</li>
<li><p><strong>SQL</strong>：结构化查询语句（Structure Query Language）；专门用来与数据库通信的语言。</p>
<p>​            不是某个数据库软件特有的，而是几乎所有的主流数据库软件通用的语言。</p>
</li>
</ul>
<h4 id="数据库存储数据的特点："><a href="#数据库存储数据的特点：" class="headerlink" title="数据库存储数据的特点："></a>数据库存储数据的特点：</h4><ol>
<li>将数据放到表中，表在放到库中。</li>
<li>一个数据库中可以有多个表，每个表都有一个名字，用来标识自己。表名具有唯一性。</li>
<li>表具有一些特性，这些特性定义了数据在表中如何存储，类似Java中“类”的设计。</li>
<li>表由列组成，他们也称为字段。所有表都是由一个或多个列组成的，每一列类似Java中的“属性”。</li>
<li>表中的数据是按行存储的，每一行类似Java中的“对象”。</li>
</ol>
<h4 id="常见的数据库管理系统："><a href="#常见的数据库管理系统：" class="headerlink" title="常见的数据库管理系统："></a>常见的数据库管理系统：</h4><ul>
<li>MySQL、Oracle、DB2、SqlServer等</li>
</ul>
<h3 id="MySQL的介绍"><a href="#MySQL的介绍" class="headerlink" title="MySQL的介绍"></a>MySQL的介绍</h3><h4 id="MySQL的背景："><a href="#MySQL的背景：" class="headerlink" title="MySQL的背景："></a>MySQL的背景：</h4><ul>
<li>前身属于瑞典的一家公司，MySQL AB</li>
<li>08年被sun公司收购</li>
<li>09年sun公司被oracle公司收购</li>
</ul>
<h4 id="MySQL产品的特点："><a href="#MySQL产品的特点：" class="headerlink" title="MySQL产品的特点："></a>MySQL产品的特点：</h4><ul>
<li>成本低：开放源代码</li>
<li>性能高：执行很快</li>
<li>体积小：很容易安装和使用</li>
</ul>
<h4 id="SQL的优点："><a href="#SQL的优点：" class="headerlink" title="SQL的优点："></a>SQL的优点：</h4><ol>
<li>不是某个特定数据库供应商专有语言，几乎所有DBMS都支持SQL。</li>
<li>简单易学</li>
<li>虽然简单，但实际上是一种强有力的语言，灵活使用其语言元素，可以进行非常复杂和高级的数据库的操作。</li>
</ol>
<h3 id="MySQL的下载安装、配置与使用"><a href="#MySQL的下载安装、配置与使用" class="headerlink" title="MySQL的下载安装、配置与使用"></a>MySQL的下载安装、配置与使用</h3><h4 id="MySQL的下载："><a href="#MySQL的下载：" class="headerlink" title="MySQL的下载："></a>MySQL的下载：</h4><p><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/5.5.html#downloads">https://dev.mysql.com/downloads/mysql/5.5.html#downloads</a></p>
<h4 id="MySQL服务的启动和停止："><a href="#MySQL服务的启动和停止：" class="headerlink" title="MySQL服务的启动和停止："></a>MySQL服务的启动和停止：</h4><ol>
<li>右击开始→计算机管理→服务和应用程序→服务</li>
<li>以管理员身份运行<strong>命令提示符</strong><ul>
<li>停止：<code>net stop mysql</code></li>
<li>启动：<code>net start mysql</code></li>
</ul>
</li>
</ol>
<p>MySQL服务端的登陆和退出：</p>
<p><em>登陆之前确保服务是启动的！</em></p>
<ol>
<li><p>登陆：<em>登陆之前确保服务是启动的！</em></p>
<ul>
<li><p>命令提示符 -h主机名 -P端口号 -u用户名 -p密码   <strong>(p和密码之间不能有空格)</strong></p>
<p>​                    <code>mysql -h localhost -P 3306 -u root -p</code></p>
<p>​                    <code>mysql -hlocalhost -P3306 -uroot -p</code>    </p>
</li>
<li><p>开始菜单→MySQL客户端（只限于root用户）</p>
</li>
</ul>
</li>
<li><p>退出：exit 或 Ctrl+C</p>
</li>
</ol>
<h3 id="MySQL的常见命令"><a href="#MySQL的常见命令" class="headerlink" title="MySQL的常见命令"></a>MySQL的常见命令</h3><ol>
<li><p>查看当前所有的数据库        <code>show databases;</code></p>
</li>
<li><p>打开指定的库                       <code>use 库名；</code></p>
</li>
<li><p>查看当前库的所有表            <code>show tables;</code>    </p>
</li>
<li><p>查看其它库的所有表            <code>show tables from 库名；</code></p>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use test;</span><br><span class="line"><span class="keyword">show</span> tables;</span><br><span class="line"><span class="keyword">show</span> tables <span class="keyword">from</span> mysql;</span><br><span class="line"></span><br><span class="line">#此时依然在test库里，仅仅是查看了mysql里的表，而没有出去</span><br></pre></td></tr></table></figure></li>
<li><p>查看当前所在库                   <code>show  database();</code></p>
</li>
<li><p>创建表                              </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名（</span><br><span class="line">列名	列类型，</span><br><span class="line">列名	列类型，</span><br><span class="line">...</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
<li><p>查看表结构                            <code>desc 表名；</code></p>
</li>
<li><p>查看表中数据                        <code>select * from 表名；</code></p>
</li>
<li><p>查看当前数据库的版本</p>
<p>方式一：登录到MySQL服务端</p>
<p>​               <code>select version()</code></p>
<p>方式二：没有登录到MySQL服务端</p>
<p>​                <code>mysql --version</code>    或者    <code>mysql -V</code></p>
</li>
</ol>
<h3 id="MySQL语法规范"><a href="#MySQL语法规范" class="headerlink" title="MySQL语法规范"></a>MySQL语法规范</h3><ol>
<li>不区分大小写，但建议关键字大写，表名、列名小写</li>
<li>每行命令最好用分号结尾</li>
<li>每条命令根据需要，可以进行缩进或换行</li>
<li>注释<ol>
<li>单行注释：#注释文字    或者–  注释文字<strong>（–后面必须加空格）</strong></li>
<li>多行注释：<code>/*注释文字*/</code></li>
</ol>
</li>
</ol>
<h2 id="DQL语言的学习"><a href="#DQL语言的学习" class="headerlink" title="DQL语言的学习"></a>DQL语言的学习</h2><h3 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ol>
<li>查询列表可以是：表中的字段、常量值、表达式、函数</li>
<li>查询的结果是一个虚拟的表格</li>
</ol>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>​    select    查询列表    from    表名；</p>
<p>​    查询前先打开数据库        <code>use myemployees;</code></p>
<ol>
<li><p>查询表中的单个字段    <code>select last_name from employees;</code></p>
</li>
<li><p>查询表中多个字段        <code>select last_name,salary,email,from employees;</code></p>
</li>
<li><p>查询表中的所有字段    <code>select * from employees;</code></p>
</li>
<li><p>查询常量值                   <code>select 100;</code>      <code>select &#39;john&#39;;</code></p>
</li>
<li><p>查询表达式                   <code>select 100*98;</code>    </p>
</li>
<li><p>查询函数                       <code>select verson();</code></p>
</li>
<li><p>为字段起别名</p>
<ul>
<li>好处：1、便于理解</li>
</ul>
<p>​    　　        2、如果要查询的字段有重名的情况，使用别名可以区分开来</p>
<ul>
<li><p>方式一：使用as</p>
<p><code>select last_name as 姓，first_name as 名 from employees;</code></p>
</li>
<li><p>方式二：使用空格</p>
<p><code>select last_name 姓,first_name 名 from employees;</code></p>
</li>
<li><p>案例：查询salary,显示结果为 out put</p>
<ul>
<li><p><code>select salary as &#39;out put&#39; from employees; </code></p>
<p><em>当别名中有空格、#等特殊符号时，用引号括起来</em></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>去重</p>
<p> 查询员工表中涉及到的所有的部门编号                         </p>
<p> <code>select distinct department_id from employees;</code></p>
</li>
<li><p>+的作用</p>
<ul>
<li>mysql中+只有一个功能：运算符</li>
</ul>
<ol>
<li>两个操作数都为数值型，则做加法运算    <code>select 100+90;</code></li>
<li>其中一方为字符型，试图将字符型数值转换成数值型<ul>
<li>如果转换成功，则继续做加法运算    <code>select &#39;123&#39;+90;</code>　结果为213</li>
<li>如果转换失败，则将字符型数值转换成0    <code>select &#39;john&#39;+90;</code>　结果为90</li>
</ul>
</li>
<li>只要其中一方为null,则结果肯定为null</li>
</ol>
<p>【补充】concat函数　　　功能：拼接字符</p>
<p>案例：查询员工名和姓连接成一个字段，并显示为 姓名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	concat(last_name,first_name) <span class="keyword">as</span> 姓名</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	查询列表</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	表名</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	筛选条件；</span><br><span class="line"></span><br><span class="line"> #执行顺序：<span class="keyword">from</span>——<span class="keyword">where</span>——<span class="keyword">select</span></span><br></pre></td></tr></table></figure>

<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ol>
<li><h5 id="按条件表达式筛选"><a href="#按条件表达式筛选" class="headerlink" title="按条件表达式筛选"></a>按条件表达式筛选</h5><ul>
<li><p>简单的条件运算符：&gt;    &lt;    =    !=    &lt;&gt;    &gt;=    &lt;=</p>
</li>
<li><p>案例一：查询工资大于12000的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	salary<span class="operator">&gt;</span><span class="number">12000</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>案例二：查询部门编号不等于90号的员工名和部门编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	department_id</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	department_id<span class="operator">&lt;&gt;</span><span class="number">90</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h5 id="按逻辑表达式筛选："><a href="#按逻辑表达式筛选：" class="headerlink" title="按逻辑表达式筛选："></a>按逻辑表达式筛选：</h5><ul>
<li><p>逻辑运算符： and    or    not                作用：用于连接条件表达式</p>
</li>
<li><p>案例一：查询工资在10000到20000之间的员工名、工资以及奖金</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	salary,</span><br><span class="line">	commission_pct</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	salary<span class="operator">&gt;=</span><span class="number">10000</span> <span class="keyword">and</span> salary<span class="operator">&lt;=</span><span class="number">20000</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>案例二： 查询部门编号不是在90到110之间，或者工资高于150000的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	<span class="keyword">not</span>(department_id<span class="operator">&gt;=</span><span class="number">90</span> <span class="keyword">and</span> department_id<span class="operator">&lt;=</span><span class="number">110</span>) <span class="keyword">or</span> salary<span class="operator">&gt;</span><span class="number">15000</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h5 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h5><ul>
<li><p>like</p>
<ul>
<li><p>特点：一般和通配符搭配使用</p>
<p>通配符：</p>
<p>​            %表示任意多个字符，包含0个字符</p>
<p>​            _表示任意单个字符</p>
</li>
</ul>
<p>案例一：查询员工名中包含字符a的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	last_name <span class="keyword">like</span> <span class="string">&#x27;%a%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>案例二：查询员工名中第三个字符为e，第五个字符为a的员工名和工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	salary</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	last_name <span class="keyword">like</span> <span class="string">&#x27;__e_a%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>案例三：查询员工名中第二个字符为_的员工名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	last_name <span class="keyword">like</span> <span class="string">&#x27;_\_%&#x27;</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>between and</p>
<ul>
<li>可以提高语句简洁度</li>
<li>包含两个临界值</li>
<li>两个临界值不要调换顺序</li>
</ul>
<p>案例：查询员工编号在100到120之间的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	employee_id <span class="keyword">between</span> <span class="number">100</span> <span class="keyword">and</span> <span class="number">120</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>in</p>
<ul>
<li>含义：判断某字段的值是否属于in列表中的某一项</li>
<li>特点：<ol>
<li>使用in提高了语句简洁度</li>
<li>in列表的值必须一致或兼容</li>
<li>不能包含_和%</li>
</ol>
</li>
</ul>
<p>案例：查询员工的工种编号是IT_PROT,AD_VP,AD_PRES中的一个员工名和工种编号</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	job_id</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	job_id <span class="keyword">in</span>(<span class="string">&#x27;IT_PROT&#x27;</span>,<span class="string">&#x27;AD_VP&#x27;</span>,<span class="string">&#x27;AD_PRES&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>is null</p>
<ul>
<li>=或&lt;&gt;不能用于判断null值，is null 或 is not null可以判断null值</li>
</ul>
<p>案例一：查询没有奖金的员工名和奖金率</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	commission_pct</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	commission_pct <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>安全等于      &lt;=&gt;</p>
<ul>
<li>is null 仅可以判断null值</li>
<li>&lt;=&gt;既可以判断null值，又可以判断普通的值，可读性较低</li>
</ul>
<p>案例一：查询没有奖金的员工名和奖金率</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	commission_pct</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	commission_pct <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<p>案例二：查询工资为12000的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	salary</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	salary <span class="operator">&lt;=&gt;</span> <span class="number">12000</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>【补充】ifnull函数</p>
<p>​    ifnull(commission_pct,0)    如果commission_pct值为null，则值为0</p>
<p>  案例：查询员工号为176的员工的姓名、部门号和年薪</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	last_name,</span><br><span class="line">	department_id,</span><br><span class="line">	salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>iffnull(commission_pct,<span class="number">0</span>)) <span class="keyword">as</span> 年薪</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line">wwhere</span><br><span class="line">	employee_id <span class="operator">=</span><span class="number">176</span>;</span><br></pre></td></tr></table></figure>

<p>【补充】isnull函数</p>
<p>​    功能：判断某字段或表达式是否为null，如果是返回为1，否则返回0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	isnull (commission_pct) </span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees;</span><br></pre></td></tr></table></figure>



<h5 id="经典面试题"><a href="#经典面试题" class="headerlink" title="经典面试题"></a>经典面试题</h5><p>试问：<code>select*from employees;</code>    和</p>
<p><code>select * from employees where commission_pct like &#39;%%&#39; and last_name like &#39;%%&#39;</code></p>
<p>结果是否一样？并说明原因</p>
<p>不一样！如果判断的字段有null值，结果就不一样；如果没有null值，结果就一样</p>
</li>
</ol>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><h4 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	查询列表</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	表名</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	筛选条件</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">	排序列表 <span class="keyword">asc</span><span class="operator">/</span><span class="keyword">desc</span>;</span><br><span class="line">	</span><br><span class="line">#执行顺序：<span class="keyword">from</span>——<span class="keyword">where</span>——<span class="keyword">select</span>——<span class="keyword">order</span> <span class="keyword">by</span></span><br></pre></td></tr></table></figure>

<h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ol>
<li>asc代表的是升序，desc代表的是降序；如果不写默认是升序</li>
<li>order by 子句中可以支持单个字段、多个字段、表达式、函数、别名</li>
<li>order by 子句一般是放在查询语句的最后面，limit子句除外</li>
</ol>
<p>案例一：查询员工信息，要求按工资排序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span>;	#从高到低</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">asc</span>;	#从低到高</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">order</span> <span class="keyword">by</span> salary;		#从低到高</span><br></pre></td></tr></table></figure>

<p>案例二：【添加筛选条件】查询部门编号大于等于90的员工信息，按入职时间的先后顺序排序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	department_id<span class="operator">&gt;=</span><span class="number">90</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> </span><br><span class="line">	hiredate <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>案例三：【按表达式排序】按年薪的高低显示员工的信息和年薪</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span>,</span><br><span class="line">	salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>ifnull(commission_pct,<span class="number">0</span>)) <span class="keyword">as</span> 年薪</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> </span><br><span class="line">	salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>ifnull(commission_pct,<span class="number">0</span>)) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>案例四：【按别名排序】按年薪的高低显示员工的信息和年薪</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span>,</span><br><span class="line">	salary<span class="operator">*</span><span class="number">12</span><span class="operator">*</span>(<span class="number">1</span><span class="operator">+</span>ifnull(commission_pct,<span class="number">0</span>)) <span class="keyword">as</span> 年薪</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> </span><br><span class="line">	年薪 <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>案例五：【按函数排序】按姓名的长度显示员工的姓名和工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	length(last_name) <span class="keyword">as</span> 字节长度，</span><br><span class="line">	last_name,</span><br><span class="line">	salary</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> </span><br><span class="line">	length(last_name) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>案例六：【按多个字段排序】查询员工信息，要求先按工资升序，再按员工编号降序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	employees</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">	salary <span class="keyword">asc</span>,</span><br><span class="line">	employee_id <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>



<h3 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h3><p>概念：类似于Java中的方法，将一组逻辑语句封装在方法体中，对外暴露方法名</p>
<p>好处：</p>
<ol>
<li>隐藏了细节</li>
<li>提高代码的重用性</li>
</ol>
<p>调用：select函数名（实参列表）；</p>
<p>特点：</p>
<ol>
<li>叫什么（函数名）</li>
<li>干什么（函数功能）</li>
</ol>
<p>分类：</p>
<ol>
<li>单行函数：如 concat、length、ifnull等</li>
<li>分组函数：做统计使用，又称为统计函数、聚合函数、组函数</li>
</ol>
<h4 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h4><h5 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1</span>、length	获取参数值的字节个数</span><br><span class="line"><span class="keyword">select</span> length (<span class="string">&#x27;john&#x27;</span>)	#返回值<span class="number">4</span></span><br><span class="line"><span class="keyword">select</span> length (<span class="string">&#x27;张三丰hahaha&#x27;</span>)	#返回值<span class="number">15</span></span><br><span class="line"></span><br><span class="line">#<span class="number">2</span>、concat	拼接字符串</span><br><span class="line"><span class="keyword">select</span> concat(last_name,<span class="string">&#x27;_&#x27;</span>,first_name) 姓名 <span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">3</span>、upper、lower</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;john&#x27;</span>);	#返回值JOHN</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(<span class="string">&#x27;joHn&#x27;</span>);	#返回值john</span><br><span class="line">#案例：将姓变大写，名变小写，然后拼接</span><br><span class="line"><span class="keyword">select</span> concat(<span class="built_in">upper</span>(last_name),<span class="built_in">lower</span>(first_name)) 姓名 <span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">4</span>、substr(substring)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">注意：索引从1开始</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">#截取从指定索引处后面所有字符</span><br><span class="line"><span class="keyword">select</span> substr (<span class="string">&#x27;李莫愁爱上了陆展元&#x27;</span>，<span class="number">7</span>) out_put;	#陆展元</span><br><span class="line"></span><br><span class="line">#截取从指定索引处指定字符长度的字符</span><br><span class="line"><span class="keyword">select</span> substr (<span class="string">&#x27;李莫愁爱上了陆展元&#x27;</span>，<span class="number">1</span>，<span class="number">3</span>) out_put;	#李莫愁</span><br><span class="line"></span><br><span class="line">#案例：姓名中首字符大写，其他字符小写，然后用_拼接，显示出来</span><br><span class="line"><span class="keyword">select</span> concat(<span class="built_in">upper</span>(substr(last_name,<span class="number">1</span>,<span class="number">1</span>)),<span class="string">&#x27;_&#x27;</span>,<span class="built_in">lower</span>(substr(last_name,<span class="number">2</span>))) out_put <span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">5</span>、instr 返回子串第一次出现的索引，如果找不到返回<span class="number">0</span></span><br><span class="line"><span class="keyword">select</span> instr(<span class="string">&#x27;杨不悔爱上了殷六侠&#x27;</span>,<span class="string">&#x27;殷六侠&#x27;</span>)		#<span class="number">7</span></span><br><span class="line"><span class="keyword">select</span> instr(<span class="string">&#x27;杨不殷六侠悔爱上了殷六侠&#x27;</span>,<span class="string">&#x27;殷六侠&#x27;</span>)		#<span class="number">3</span></span><br><span class="line"><span class="keyword">select</span> instr(<span class="string">&#x27;杨不悔爱上了殷六侠&#x27;</span>,<span class="string">&#x27;殷八侠&#x27;</span>)		#<span class="number">0</span></span><br><span class="line"></span><br><span class="line">#<span class="number">6</span>、trim</span><br><span class="line"><span class="keyword">select</span> length(<span class="built_in">trim</span>(<span class="string">&#x27;   张翠山    &#x27;</span>)) <span class="keyword">as</span> out_put;	#<span class="number">9</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;aaaaaa张a翠a山aaaaa&#x27;</span>) <span class="keyword">as</span> out_put;	#张a翠a山</span><br><span class="line"></span><br><span class="line">#<span class="number">7</span>、lpad 用指定的字符实现左填充指定长度</span><br><span class="line"><span class="keyword">select</span> lpad(<span class="string">&#x27;殷素素&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;*&#x27;</span>) <span class="keyword">as</span> out_put;	#<span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>殷素素</span><br><span class="line"><span class="keyword">select</span> lpad(<span class="string">&#x27;殷素素&#x27;</span>,,<span class="string">&#x27;*&#x27;</span>) <span class="keyword">as</span> out_put;	#殷素</span><br><span class="line"></span><br><span class="line">#<span class="number">8</span>、rpad 用指定的字符实现右填充指定长度</span><br><span class="line"><span class="keyword">select</span> rpad(<span class="string">&#x27;殷素素&#x27;</span>,<span class="number">12</span>,<span class="string">&#x27;ab&#x27;</span>) <span class="keyword">as</span> out_put;	#殷素素ababababa</span><br><span class="line"></span><br><span class="line">#<span class="number">9</span>、replace替换</span><br><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;张无忌爱上了周芷若&#x27;</span>,<span class="string">&#x27;周芷若&#x27;</span>,<span class="string">&#x27;赵敏&#x27;</span>) <span class="keyword">as</span> out_put;	#张无忌爱上了赵敏</span><br><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;周芷若张无忌爱上了周芷若&#x27;</span>,<span class="string">&#x27;周芷若&#x27;</span>,<span class="string">&#x27;赵敏&#x27;</span>) <span class="keyword">as</span> out_put;	#赵敏张无忌爱上了赵敏</span><br></pre></td></tr></table></figure>



<h5 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#round 四舍五入</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> round(<span class="number">1.65</span>);	#<span class="number">2</span></span><br><span class="line"><span class="keyword">select</span> round(<span class="number">1.567</span>,<span class="number">2</span>);	#<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#ceil 向上取整，返回大于等于该参数的最小整数</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">ceil</span>(<span class="number">1.002</span>);	#<span class="number">2</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">ceil</span>(<span class="number">1.00</span>);	#<span class="number">1</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">ceil</span>(<span class="number">-1.02</span>);	#<span class="number">-1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#floor 向下取整，返回小于等于该参数的最大整数</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">9.99</span>);	#<span class="number">9</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">-9.99</span>);	#<span class="number">-10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#<span class="keyword">truncate</span> 截断</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">truncate</span>(<span class="number">1.69</span>,<span class="number">1</span>);	#<span class="number">1.6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#mod 取余</span><br><span class="line"></span><br><span class="line"><span class="built_in">mod</span>(a,b):	a<span class="operator">-</span>a<span class="operator">/</span>b<span class="operator">*</span>b</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">10</span>,<span class="number">3</span>);	#<span class="number">1</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">-10</span>,<span class="number">-3</span>);	#<span class="number">-1</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">-10</span>,<span class="number">3</span>);	#<span class="number">-1</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">10</span>,<span class="number">-3</span>);	#<span class="number">1</span></span><br><span class="line"></span><br><span class="line">#rand 获取随机数返回<span class="number">0</span><span class="number">-1</span>之间的小数</span><br></pre></td></tr></table></figure>



<h5 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#now 返回当前系统日期<span class="operator">+</span>时间</span><br><span class="line"><span class="keyword">select</span> now();</span><br><span class="line"></span><br><span class="line">#curdate 返回当前系统日期，不包含时间</span><br><span class="line"><span class="keyword">select</span> curdate();</span><br><span class="line"></span><br><span class="line">#curtime 返回当前时间，不包含日期</span><br><span class="line"><span class="keyword">select</span> curtime();</span><br><span class="line"></span><br><span class="line">#可以获取指定的部分，年、月、日、小时、分钟、秒</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(now()) 年；</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(<span class="string">&#x27;1998-1-1&#x27;</span>) 年；</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(hiredate)年 <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">month</span>(now()) 月；</span><br><span class="line"><span class="keyword">select</span> monthname(now()) 月； #返回英文月份</span><br><span class="line"></span><br><span class="line">#str_to_date 将字符通过指定的格式转换成日期</span><br><span class="line"><span class="keyword">select</span> str_to_date(<span class="string">&#x27;1998-3-2&#x27;</span>,<span class="string">&#x27;%Y-%c-%d&#x27;</span>) <span class="keyword">as</span> out_put;</span><br><span class="line"></span><br><span class="line">#查询入职日期为<span class="number">1992</span><span class="number">-4</span><span class="number">-3</span>的员工信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">where</span> hiredate <span class="operator">=</span> <span class="string">&#x27;1992-4-3&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">where</span> hiredate <span class="operator">=</span> str_to_date(<span class="string">&#x27;4-3 1992&#x27;</span>,<span class="string">&#x27;%c-%d %Y&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#date_format 将日期转换成字符</span><br><span class="line"><span class="keyword">select</span> date_format(now(),<span class="string">&#x27;%y年%m月%d日&#x27;</span>) <span class="keyword">as</span> out_put;</span><br><span class="line"></span><br><span class="line">#查询有奖金的员工名和入职日期（xx月<span class="operator">/</span>xx日 xx年）</span><br><span class="line"><span class="keyword">select</span> last_name,date_format(hiredate,<span class="string">&#x27;%m月/%d日 %y年&#x27;</span>) 入职日期</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#datediff 返回两个日期相差的天数</span><br><span class="line"></span><br><span class="line">#monthname 以英文形式返回月</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>序号</th>
<th>格式符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>%Y</td>
<td>四位的年份</td>
</tr>
<tr>
<td>2</td>
<td>%y</td>
<td>两位的年份</td>
</tr>
<tr>
<td>3</td>
<td>%m</td>
<td>月份（01，02…11，12）</td>
</tr>
<tr>
<td>4</td>
<td>%c</td>
<td>月份（1，2，…11，12）</td>
</tr>
<tr>
<td>5</td>
<td>%d</td>
<td>日（01，02，…）</td>
</tr>
<tr>
<td>6</td>
<td>%H</td>
<td>小时（24小时制）</td>
</tr>
<tr>
<td>7</td>
<td>%h</td>
<td>小时（12小时制）</td>
</tr>
<tr>
<td>8</td>
<td>%i</td>
<td>分钟（00，01…59）</td>
</tr>
<tr>
<td>9</td>
<td>%s</td>
<td>秒（00，01，…59）</td>
</tr>
</tbody></table>
<h5 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> version();	#当前数据库服务器的版本</span><br><span class="line"><span class="keyword">select</span> database();	#当前打开的数据库</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>();	#当前用户</span><br><span class="line"><span class="keyword">select</span> password(<span class="string">&#x27;字符&#x27;</span>)；	#返回该字符的密码形式</span><br><span class="line"><span class="keyword">select</span> md5(<span class="string">&#x27;字符&#x27;</span>)；	#返回该字符的md5加密形式</span><br></pre></td></tr></table></figure>



<h5 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span> if 函数：if <span class="keyword">else</span>效果</span><br><span class="line"><span class="keyword">select</span> if(<span class="number">10</span><span class="operator">&lt;</span><span class="number">5</span>,<span class="string">&#x27;大&#x27;</span>，<span class="string">&#x27;小&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> last_name,commission_pct,if(commission_pct <span class="keyword">is</span> <span class="keyword">null</span>,<span class="string">&#x27;没奖金&#x27;</span>,<span class="string">&#x27;有奖金&#x27;</span>) 备注</span><br><span class="line"><span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span> <span class="keyword">case</span>函数的使用一：switch <span class="keyword">case</span> 的效果</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">java中</span></span><br><span class="line"><span class="comment">switch(变量或表达式)&#123;</span></span><br><span class="line"><span class="comment">		case 常量1：语句1；break;</span></span><br><span class="line"><span class="comment">		...</span></span><br><span class="line"><span class="comment">		default:语句n;break;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">mysql中</span></span><br><span class="line"><span class="comment">case 要判断的字段或表达式</span></span><br><span class="line"><span class="comment">when 常量1 then 要显示的值1或语句1；</span></span><br><span class="line"><span class="comment">when 常量2 then 要显示的值2或语句2；</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">else 要显示的值n或语句n；</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">案例：查询员工的工资，要求：</span></span><br><span class="line"><span class="comment">部门号=30，显示的工资为1.1倍</span></span><br><span class="line"><span class="comment">部门号=40，显示的工资为1.2倍</span></span><br><span class="line"><span class="comment">部门号=50，显示的工资为1.3倍</span></span><br><span class="line"><span class="comment">其他部门，显示的工资为原工资</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> salary 原始工资,department_id,</span><br><span class="line"><span class="keyword">case</span> department_id</span><br><span class="line"><span class="keyword">when</span> <span class="number">30</span> <span class="keyword">then</span> salary<span class="operator">*</span><span class="number">1.1</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">40</span> <span class="keyword">then</span> salary<span class="operator">*</span><span class="number">1.2</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">50</span> <span class="keyword">then</span> salary<span class="operator">*</span><span class="number">1.3</span></span><br><span class="line"><span class="keyword">else</span> salary</span><br><span class="line"><span class="keyword">end</span> <span class="keyword">as</span> 新工资</span><br><span class="line"><span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span> <span class="keyword">case</span>函数的使用二：类似于多重if</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">java中</span></span><br><span class="line"><span class="comment">if (条件1)&#123;</span></span><br><span class="line"><span class="comment">		语句1；</span></span><br><span class="line"><span class="comment">&#125;else if(条件2)&#123;</span></span><br><span class="line"><span class="comment">		语句2；</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">else&#123;</span></span><br><span class="line"><span class="comment">		语句n;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">mysql中</span></span><br><span class="line"><span class="comment">case </span></span><br><span class="line"><span class="comment">when 条件1 then 要显示的值1或语句1；</span></span><br><span class="line"><span class="comment">when 条件2 then 要显示的值2或语句2；</span></span><br><span class="line"><span class="comment">...</span></span><br><span class="line"><span class="comment">else 要显示的值n或语句n；</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">案例：查询员工的工资情况</span></span><br><span class="line"><span class="comment">如果工资&gt;20000,显示A级别</span></span><br><span class="line"><span class="comment">如果工资&gt;15000,显示B级别</span></span><br><span class="line"><span class="comment">如果工资&gt;10000,显示C级别</span></span><br><span class="line"><span class="comment">否则，显示D级别</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> salary,</span><br><span class="line"><span class="keyword">case</span></span><br><span class="line"><span class="keyword">when</span> salary<span class="operator">&gt;</span><span class="number">20000</span> <span class="keyword">then</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line"><span class="keyword">when</span> salary<span class="operator">&gt;</span><span class="number">15000</span> <span class="keyword">then</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="keyword">when</span> salary<span class="operator">&gt;</span><span class="number">10000</span> <span class="keyword">then</span> <span class="string">&#x27;C&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="string">&#x27;D&#x27;</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">as</span> 工资级别</span><br><span class="line"><span class="keyword">from</span> employees;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h4><h5 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h5><p>用作统计使用，又称为聚合函数或统计函数或组函数</p>
<h5 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h5><p>​        sum 求和、avg 平均值、max 最大值、min 最小值、count 计算个数</p>
<h5 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h5><ol>
<li><p>sum、avg一般用于处理数值型</p>
<p>max、min、count可以处理任何类型</p>
</li>
<li><p>以上分组函数都忽略null值</p>
</li>
<li><p>可以和distinct搭配实现去重的运算</p>
</li>
<li><p>count函数的单独介绍</p>
<p>一般使用count(*)用作统计行数</p>
</li>
<li><p>和分组函数一同查询的字段要求是group by后的字段</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>简单的使用</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(salary) 和,round(<span class="built_in">avg</span>(salary),<span class="number">2</span>) 平均,<span class="built_in">max</span>(salary) 最高,<span class="built_in">min</span>(salary) 最低,<span class="built_in">count</span>(salary) 个数</span><br><span class="line"><span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>可以和<span class="keyword">distinct</span>搭配实现去重的运算</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(<span class="keyword">distinct</span> salary),<span class="built_in">sum</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> salary),<span class="built_in">count</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>count 函数的具体介绍</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(salary) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> employees;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>) <span class="keyword">from</span> employees;</span><br></pre></td></tr></table></figure>



<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">select 分组函数，列（要求要求出现在group by 的后面）</span></span><br><span class="line"><span class="comment">from表</span></span><br><span class="line"><span class="comment">[where 筛选条件]</span></span><br><span class="line"><span class="comment">group by 分组的列表</span></span><br><span class="line"><span class="comment">[order by 子句]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意：查询列表必较特殊，要求是分组函数group by 后面出现的字段</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h4><ol>
<li><p>分组查询中筛选条件分为两类</p>
<table>
<thead>
<tr>
<th></th>
<th>数据源</th>
<th>位置</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>分组前筛选</td>
<td>原始表</td>
<td>group by 子句的前面</td>
<td>where</td>
</tr>
<tr>
<td>分组后筛选</td>
<td>分组后的结果集</td>
<td>group by 子句的后面</td>
<td>having</td>
</tr>
</tbody></table>
<p>①分组函数做条件肯定是放在having子句中</p>
<p>②能用分组前筛选的，就优先考虑分组前筛选</p>
</li>
<li><p>group by 子句支持单个字段分组，多个字段分组（多个字段用逗号隔开没有顺序），表达式或函数（用的较少）</p>
</li>
<li><p>也可以添加排序（排序放在整个分组查询的最后）</p>
</li>
</ol>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">#简单的分组查询</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>；查询每个工种的最高工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),job_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job_id;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>；查询每个位置上的部门个数</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),location_id</span><br><span class="line"><span class="keyword">from</span> departments</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> location_id;</span><br><span class="line"></span><br><span class="line">#添加分组前筛选条件</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>；查询邮箱中包含a字符的，每个部门的平均工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> email <span class="keyword">like</span> <span class="string">&#x27;%a%&#x27;</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>；查询有奖金的每个领导手下员工的最高工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),manager_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> manager_id;</span><br><span class="line"></span><br><span class="line">#添加分组后的筛选条件</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>；查询哪个部门的员工个数大于<span class="number">2</span></span><br><span class="line"></span><br><span class="line">#①查询每个部门的员工个数</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line">#②根据①的结果进行筛选，查询哪个部门员工个数大于<span class="number">2</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>；查询每个工种有奖金的员工的最高工资<span class="operator">&gt;</span><span class="number">12000</span>的工种编号和最高工资</span><br><span class="line"></span><br><span class="line">#①查询每个工种有奖金的员工的最高工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),job_id</span><br><span class="line"><span class="keyword">from</span> eemployees</span><br><span class="line"><span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job_id;</span><br><span class="line"></span><br><span class="line">#②根据①结果继续筛选，最高工资<span class="operator">&gt;</span><span class="number">12000</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary),job_id</span><br><span class="line"><span class="keyword">from</span> eemployees</span><br><span class="line"><span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">max</span>(salary)<span class="operator">&gt;</span><span class="number">12000</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">3</span>；查询领导编号<span class="operator">&gt;</span><span class="number">102</span>的每个领导手下的最低工资<span class="operator">&gt;</span><span class="number">5000</span>的领导编号是哪个，以及其最低工资</span><br><span class="line"></span><br><span class="line">#①查询每个领导手下的员工的最低工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),manager_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> manager_id</span><br><span class="line">#②添加筛选条件：编号<span class="operator">&gt;</span><span class="number">102</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),manager_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> manager_id<span class="operator">&gt;</span><span class="number">102</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> manager_id</span><br><span class="line">#③添加筛选条件：最低工资<span class="operator">&gt;</span><span class="number">5000</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),manager_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> manager_id<span class="operator">&gt;</span><span class="number">102</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> manager_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">min</span>(salary<span class="operator">&gt;</span><span class="number">5000</span>);</span><br><span class="line"></span><br><span class="line">#按表达式或函数分组</span><br><span class="line"></span><br><span class="line">#案例：按员工姓名的长度分组，查询每一组的员工个数，筛选员工个数<span class="operator">&gt;</span><span class="number">5</span>的有哪些</span><br><span class="line">#①</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),length(last_name) len_name</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> length(last_name);</span><br><span class="line">#②添加筛选条件</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),length(last_name) len_name</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> length(last_name)</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">#按多个字段分组</span><br><span class="line"></span><br><span class="line">#案例：查询每个部门每个工种的员工的平均工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary),department_id,job_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id,job_id;</span><br><span class="line"></span><br><span class="line">#添加排序</span><br><span class="line"></span><br><span class="line">#案例：查询每个部门每个工种的员工的平均工资，并且按平均工资的高低显示</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary),department_id,job_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> department_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id,job_id;</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">avg</span>(salary) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>



<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><h4 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h4><p>连接查询又称多表查询，当查询的字段来自多个表时，就会用到多表查询</p>
<h4 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h4><p>现象：表1有m行，表2有n行，，结果=m*n行</p>
<p>发生原因：没有有效的连接条件</p>
<p>如何避免：添加有效的连接条件</p>
<h4 id="分类-2"><a href="#分类-2" class="headerlink" title="分类"></a>分类</h4><h5 id="按年代分类"><a href="#按年代分类" class="headerlink" title="按年代分类"></a>按年代分类</h5><ul>
<li>sql92标准：仅仅支持内连接，也支持一部分外连接（用于oracle、sqlserver)</li>
<li>sql99标准【推荐】：支持内连接+外连接（左外和右外）+交叉连接</li>
</ul>
<h5 id="按功能分类"><a href="#按功能分类" class="headerlink" title="按功能分类"></a>按功能分类</h5><ul>
<li>内连接<ul>
<li>等值连接</li>
<li>非等值连接</li>
<li>自连接</li>
</ul>
</li>
<li>外连接<ul>
<li>左外连接</li>
<li>右外连接</li>
<li>全外连接(mysql不支持)</li>
</ul>
</li>
<li>交叉连接</li>
</ul>
<h4 id="一、sql92标准"><a href="#一、sql92标准" class="headerlink" title="一、sql92标准"></a>一、sql92标准</h4><h5 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h5><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">select 查询列表</span></span><br><span class="line"><span class="comment">from 表1 别名，表2 别名</span></span><br><span class="line"><span class="comment">where 表1.key=表2.key</span></span><br><span class="line"><span class="comment">[and 筛选条件]</span></span><br><span class="line"><span class="comment">[group by 分组字段]</span></span><br><span class="line"><span class="comment">[having 分组后的筛选]</span></span><br><span class="line"><span class="comment">[order by 排序字段]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>①多表等值连接的结果为多表的交集部分<br>②n表连接，至少需要n-1个连接条件<br>③多表的顺序没有要求<br>④一般需要为多表起别名<br>⑤可以搭配前面介绍的所有子句使用，比如排序、分组、筛选</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>等值连接</span><br><span class="line">#案例<span class="number">1</span>：查询女神名和对应的男神名</span><br><span class="line"><span class="keyword">select</span> NAME,boyName</span><br><span class="line"><span class="keyword">from</span> boys,beauty</span><br><span class="line"><span class="keyword">where</span> beauty.boyfriend_id<span class="operator">=</span>boys.id</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询员工名和对应的部门名</span><br><span class="line"><span class="keyword">select</span> last_name,department_name</span><br><span class="line"><span class="keyword">from</span> employees,departments</span><br><span class="line"><span class="keyword">where</span> employees.department_id<span class="operator">=</span>departments.department_id;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>为表起别名</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">提高语句的简洁度</span></span><br><span class="line"><span class="comment">区别多个重名的字段</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意：如果为表起了别名，则查询的字段就不能用原来的表名去限定</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">#案例：查询员工名、工种号、工种名</span><br><span class="line"><span class="keyword">select</span> last_name,e.job_id,job_title</span><br><span class="line"><span class="keyword">from</span> employees e,jobs j</span><br><span class="line"><span class="keyword">where</span> e.job_id<span class="operator">=</span>j.job_id;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>两个表的顺序可以调换</span><br><span class="line">#案例：查询员工名、工种号、工种名</span><br><span class="line"><span class="keyword">select</span> last_name,e.job_id,job_title</span><br><span class="line"><span class="keyword">from</span> jobs j，employees e</span><br><span class="line"><span class="keyword">where</span> e.job_id<span class="operator">=</span>j.job_id;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>可以加筛选</span><br><span class="line">#案例<span class="number">1</span>：查询有奖金的员工名、部门名</span><br><span class="line"><span class="keyword">select</span> last_name,department_name,commission_pct</span><br><span class="line"><span class="keyword">from</span> employees e,department d</span><br><span class="line"><span class="keyword">where</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line"><span class="keyword">and</span> e.commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询城市名中第二个字符为o的部门名和城市名</span><br><span class="line"><span class="keyword">select</span> department_name,city</span><br><span class="line"><span class="keyword">from</span> departments d,locations l</span><br><span class="line"><span class="keyword">where</span> d.location_id<span class="operator">=</span>l,location_id</span><br><span class="line"><span class="keyword">and</span> city <span class="keyword">like</span> <span class="string">&#x27;_o%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">5.</span>可以加分组</span><br><span class="line">#案例<span class="number">1</span>：查询每个城市的部门个数</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) 个数,city</span><br><span class="line"><span class="keyword">from</span> departments d,location l</span><br><span class="line"><span class="keyword">where</span> d.location_id<span class="operator">=</span>l.location</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> city;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资</span><br><span class="line"><span class="keyword">select</span> department_name,d.manager_id,<span class="built_in">min</span>(salary)</span><br><span class="line"><span class="keyword">from</span> departments d,employees e</span><br><span class="line"><span class="keyword">where</span> d.department_id<span class="operator">=</span>e.department_id</span><br><span class="line"><span class="keyword">and</span> commission <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_name,d.manager_id;</span><br><span class="line"></span><br><span class="line">#<span class="number">6.</span>可以加排序</span><br><span class="line">#案例：查询每个工种的工种名和员工的个数，并且按员工个数排序</span><br><span class="line"><span class="keyword">select</span> job_title,<span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">from</span> employees e,jobs j</span><br><span class="line"><span class="keyword">where</span> e.job_id<span class="operator">=</span>j.job_id</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job_title</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">7.</span>可以实现三表连接</span><br><span class="line">#案例：查询员工名、部门名和所在城市</span><br><span class="line"><span class="keyword">select</span> last_name,department_name,city</span><br><span class="line"><span class="keyword">from</span> employees e,departments d,locations l</span><br><span class="line"><span class="keyword">where</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line"><span class="keyword">and</span> d.location_id<span class="operator">=</span>l.location_id;</span><br></pre></td></tr></table></figure>

<h5 id="非等值连接"><a href="#非等值连接" class="headerlink" title="非等值连接"></a>非等值连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#非等值连接</span><br><span class="line">#案例<span class="number">1</span>：查询员工的工资和工资级别</span><br><span class="line"><span class="keyword">select</span> salary,grade_level</span><br><span class="line"><span class="keyword">from</span> employees e,job_grades g</span><br><span class="line"><span class="keyword">where</span> salary <span class="keyword">between</span> g.lowest_sal <span class="keyword">and</span> g.highest_sal;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询工资级别为A的员工工资</span><br><span class="line"><span class="keyword">select</span> salary,grade_level</span><br><span class="line"><span class="keyword">from</span> employees e,job_grades g</span><br><span class="line"><span class="keyword">where</span> salary <span class="keyword">between</span> g.lowest_sal <span class="keyword">and</span> g.highest_sal</span><br><span class="line"><span class="keyword">and</span> g.grade_level<span class="operator">=</span><span class="string">&#x27;A&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#案例：查询员工名和上级的名称</span><br><span class="line"><span class="keyword">select</span> e.employee_id,e.last_name,m.employee_id,m.last_name</span><br><span class="line"><span class="keyword">from</span> employees e,employees m</span><br><span class="line"><span class="keyword">where</span> e.manager_id<span class="operator">=</span>m.employee_id;</span><br></pre></td></tr></table></figure>



<h4 id="二、sql99标准"><a href="#二、sql99标准" class="headerlink" title="二、sql99标准"></a>二、sql99标准</h4><h5 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名 </span><br><span class="line">[连接类型] <span class="keyword">join</span> 表<span class="number">2</span> 别名</span><br><span class="line"><span class="keyword">on</span> 连接条件</span><br></pre></td></tr></table></figure>

<h5 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h5><h6 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> 表<span class="number">2</span> 别名</span><br><span class="line"><span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 分组列表</span><br><span class="line"><span class="keyword">having</span> 分组后的筛选</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 排序列表</span><br><span class="line">limit 子句</span><br></pre></td></tr></table></figure>

<h6 id="特点-4"><a href="#特点-4" class="headerlink" title="特点"></a>特点</h6><ol>
<li>可以添加排序、分组、筛选</li>
<li>inner可以省略</li>
<li>筛选条件放在where后面，连接条件放在on后面，提高分离性，便于阅读</li>
<li>inner join连接和sql92语法中的等值连接效果是一样的，都是查询多表的交集</li>
<li>表的顺序可以调换</li>
<li>内连接的结果=多表的交集</li>
<li>n表连接至少需要n—1个连接条件</li>
</ol>
<h6 id="分类-3"><a href="#分类-3" class="headerlink" title="分类"></a>分类</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>等值连接</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>：查询员工名、部门名</span><br><span class="line"><span class="keyword">select</span> last_name,department_name</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> departments d</span><br><span class="line"><span class="keyword">on</span> e.department_id<span class="operator">=</span>d.department_id;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询名字中包含e的员工名和工种名（添加筛选）</span><br><span class="line"><span class="keyword">select</span> last_name,job_title</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> joim jobs j</span><br><span class="line"><span class="keyword">on</span> e.job_id<span class="operator">=</span>j.job_id</span><br><span class="line"><span class="keyword">where</span> e.last_name <span class="keyword">like</span> <span class="string">&#x27;%e%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">3</span>：查询部门个数<span class="operator">&gt;</span><span class="number">3</span>的城市名和部门个数（添加分组<span class="operator">+</span>筛选）</span><br><span class="line"><span class="keyword">select</span> city,<span class="built_in">count</span>(<span class="operator">*</span>) 部门个数</span><br><span class="line"><span class="keyword">from</span> departments d</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> locations</span><br><span class="line"><span class="keyword">on</span> d.location_id<span class="operator">=</span>l.location_id</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> city</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">4</span>：查询哪个部门的员工个数<span class="operator">&gt;</span><span class="number">3</span>的部门名和员工个数，并按个数降序（添加排序）</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) 个数,department_name</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> departments d</span><br><span class="line"><span class="keyword">on</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_name</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">3</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">5</span>：查询员工名、部门名、工种名，并按部门名降序（三表连接）</span><br><span class="line"><span class="keyword">select</span> last_name,department_name,job_title</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> departments d <span class="keyword">on</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> jobs j <span class="keyword">on</span> e.job_id<span class="operator">=</span>j.job_id</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> department_name <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>非等值连接</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>：查询员工的工资级别</span><br><span class="line"><span class="keyword">select</span> salary,grade_level</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> job_grades g</span><br><span class="line"><span class="keyword">on</span> e.salary <span class="keyword">between</span> g.lowest_sal <span class="keyword">and</span> g.highest_sal;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询工资级别的个数<span class="operator">&gt;</span><span class="number">20</span>的个数，并且按工资级别降序</span><br><span class="line"><span class="keyword">select</span> count（<span class="operator">*</span>）,grade_level</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> job_grades g</span><br><span class="line"><span class="keyword">on</span> e.salary <span class="keyword">between</span> g.lowest_sal <span class="keyword">and</span> g.highest_sal</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> grade_level</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">20</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> grade_level <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>自连接</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>：查询员工的名字，上级的名字</span><br><span class="line"><span class="keyword">select</span> e.last_name,m.last_name</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> employees m</span><br><span class="line"><span class="keyword">on</span> e.manager_id<span class="operator">=</span>m.employee_id;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询姓名中包含字符k的员工的名字，上级的名字</span><br><span class="line"><span class="keyword">select</span> e.last_name,m.last_name</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> employees m</span><br><span class="line"><span class="keyword">on</span> e.manager_id<span class="operator">=</span>m.employee_id</span><br><span class="line"><span class="keyword">where</span> e.last_name <span class="keyword">like</span> <span class="string">&#x27;%k%&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h5 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h5><h6 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h6><p>用于查询一个表中有，另一个表没有的记录</p>
<h6 id="特点-5"><a href="#特点-5" class="headerlink" title="特点"></a>特点</h6><ol>
<li><p>外连接的查询结果为主表中的所有记录</p>
<p>如果从表中有和他匹配的，则显示匹配的值</p>
<p>如果从表中没有和他匹配的，则显示null</p>
<p>外连接查询结果=内连接结果+主表中有而从表中没有的记录</p>
</li>
<li><p>左外连接，lift outer join左边的是主表</p>
<p>右外连接，right outer join右边的是主表</p>
</li>
<li><p>左外和右外交换两个表的顺序，可以实现同样的效果</p>
</li>
<li><p>一般用于查询除了交集部分剩余的不匹配的行</p>
</li>
<li><p>全外连接full outer join=内连接的结果+表1中有但表2中没有的+表2中有但表1中没有的（MySQL不支持）</p>
</li>
</ol>
<h6 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：查询哪个部门没有员工</span><br><span class="line"></span><br><span class="line">#左外</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>,e.employee_id</span><br><span class="line"><span class="keyword">from</span> departments d</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> employees e</span><br><span class="line"><span class="keyword">on</span> d.department_id<span class="operator">=</span>e.department_id</span><br><span class="line"><span class="keyword">where</span> e.employee_id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#右外</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>,e.employee_id</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> departments d</span><br><span class="line"><span class="keyword">on</span> d.department_id<span class="operator">=</span>e.department_id</span><br><span class="line"><span class="keyword">where</span> e.employee_id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> b.<span class="operator">*</span>,bo.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> beauty b</span><br><span class="line"><span class="keyword">cross</span> <span class="keyword">join</span> boys bo;</span><br><span class="line">#就是使用sql99语法实现的笛卡尔积</span><br></pre></td></tr></table></figure>



<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>出现在其他语句内部的select语句，称为子查询或内查询</p>
<p>内部嵌套其他select语句的查询，称为外查询或主查询</p>
<h4 id="分类-4"><a href="#分类-4" class="headerlink" title="分类"></a>分类</h4><h5 id="按子查询出现的位置"><a href="#按子查询出现的位置" class="headerlink" title="按子查询出现的位置"></a>按子查询出现的位置</h5><p>select 后面：</p>
<p>​                    仅仅支持标量子查询</p>
<p>from后面：</p>
<p>​                    支持表子查询</p>
<p>where或having后面：  ★</p>
<p>​                    标量子查询 （单行）√</p>
<p>​                    列子查询     （多行）√</p>
<p>​                    行子查询</p>
<p>exists后面（相关子查询）</p>
<p>​                    标量子查询 </p>
<p>​                    列子查询</p>
<p>​                    行子查询</p>
<p>​                    表子查询    </p>
<h5 id="按结果集的行列数不同"><a href="#按结果集的行列数不同" class="headerlink" title="按结果集的行列数不同"></a>按结果集的行列数不同</h5><p>标量子查询（结果集只有一行一列）</p>
<p>列子查询（结果集只有一列多行）</p>
<p>行子查询（结果集有一行多列）</p>
<p>表子查询（结果集一般为多行多列）</p>
<h4 id="一、where或having后面"><a href="#一、where或having后面" class="headerlink" title="一、where或having后面"></a>一、where或having后面</h4><h5 id="特点-6"><a href="#特点-6" class="headerlink" title="特点"></a>特点</h5><ol>
<li><p>子查询放在小括号内</p>
</li>
<li><p>子查询一般放在条件的右侧</p>
</li>
<li><p>标量子查询，一般搭配着单行操作符（&lt;、&gt;、&lt;=、&gt;=、=、&lt;&gt;）使用</p>
<p>列子查询，一般搭配着多行操作符（in、any/some、all）使用</p>
</li>
<li><p>子查询的执行优先于主查询执行，主查询的条件用到了子查询的结果</p>
</li>
</ol>
<h5 id="分类-5"><a href="#分类-5" class="headerlink" title="分类"></a>分类</h5><h6 id="标量子查询（单行子查询）"><a href="#标量子查询（单行子查询）" class="headerlink" title="标量子查询（单行子查询）"></a>标量子查询（单行子查询）</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：谁的工资比Abel高？</span><br><span class="line"></span><br><span class="line">#①查询Abel的工资</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;Abel&#x27;</span></span><br><span class="line">#②查询员工的信息，满足salary<span class="operator">&gt;</span>①结果</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">&gt;</span>(</span><br><span class="line">		<span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line">		<span class="keyword">from</span> employees</span><br><span class="line">		<span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;Abel&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：返回job_id与<span class="number">141</span>号员工相同，salary比<span class="number">143</span>号员工多的员工姓名、job_id和工资</span><br><span class="line"></span><br><span class="line">#①查询<span class="number">141</span>号员工的job_id</span><br><span class="line"><span class="keyword">select</span> job_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> employee_id<span class="operator">=</span><span class="number">141</span></span><br><span class="line">#②查询<span class="number">143</span>号员工的salary</span><br><span class="line"><span class="keyword">select</span> salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> employee_id<span class="operator">=</span><span class="number">143</span></span><br><span class="line">#③查询员工的姓名，job_id,和工资，要求job_id<span class="operator">=</span>①并且salary<span class="operator">&gt;</span>②</span><br><span class="line"><span class="keyword">select</span> last_name,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> job_id<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> job_id</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> employee_id<span class="operator">=</span><span class="number">141</span></span><br><span class="line">)<span class="keyword">and</span> salary<span class="operator">&gt;</span>(</span><br><span class="line">        <span class="keyword">select</span> salary</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> employee_id<span class="operator">=</span><span class="number">143</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#案例<span class="number">3</span>：返回公司工资最少的员工的last_name,job_id和salary</span><br><span class="line"></span><br><span class="line">#①查询公司的最低工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary)</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line">#②查询last_name,job_id和salary，要求salary<span class="operator">=</span>①</span><br><span class="line"><span class="keyword">select</span> last_name,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">min</span>(salary)</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#案例<span class="number">4</span>：查询最低工资大于<span class="number">50</span>号部门最低工资的部门id和其最低工资</span><br><span class="line"></span><br><span class="line">#①查询<span class="number">50</span>号部门的最低工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary)</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> department_id<span class="operator">=</span><span class="number">50</span></span><br><span class="line">#②查询每个部门的最低工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line">#③在②基础上筛选，满足<span class="built_in">min</span>(salary)<span class="operator">&gt;</span>①</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(salary),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">min</span>(salary)<span class="operator">&gt;</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">min</span>(salary)</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> department_id<span class="operator">=</span><span class="number">50</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#非法使用标量子查询：子查询结果不是一行一列</span><br></pre></td></tr></table></figure>



<h6 id="列子查询（多行子查询）"><a href="#列子查询（多行子查询）" class="headerlink" title="列子查询（多行子查询）"></a>列子查询（多行子查询）</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>；返回location_id是<span class="number">1400</span>或<span class="number">1700</span>的部门中的所有员工姓名</span><br><span class="line"></span><br><span class="line">#①查询location_id是<span class="number">1400</span>或<span class="number">1700</span>的部门编号</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> location_id <span class="keyword">in</span>(<span class="number">1400</span>,<span class="number">1700</span>)</span><br><span class="line">#②查询员工姓名，要求部门编号是①列表中的某一个</span><br><span class="line"><span class="keyword">select</span> last_name</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> department_id <span class="keyword">in</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="keyword">distinct</span> department_id</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> location_id <span class="keyword">in</span>(<span class="number">1400</span>,<span class="number">1700</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：返回其他工种中比job_id为IT<span class="operator">-</span>PROG工种任一工资低的员工的员工号、姓名、job_id以及salary</span><br><span class="line"></span><br><span class="line">#①查询job_id为IT<span class="operator">-</span>PROG部门的任一工资</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ssalary </span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> iob_id<span class="operator">=</span><span class="string">&#x27;IT-PROG&#x27;</span></span><br><span class="line">#②查询员工号、姓名、job_id以及salary，salary<span class="operator">&lt;</span>(①)的任意一个</span><br><span class="line"><span class="keyword">select</span> last_name,employee_id,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">&lt;</span><span class="keyword">any</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="keyword">distinct</span> ssalary </span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> iob_id<span class="operator">=</span><span class="string">&#x27;IT_PROG&#x27;</span></span><br><span class="line">)<span class="keyword">and</span> job_id<span class="operator">&lt;&gt;</span><span class="string">&#x27;IT_PROG&#x27;</span>;</span><br><span class="line">#或</span><br><span class="line"><span class="keyword">select</span> last_name,employee_id,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">&lt;</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">max</span> (ssalary) </span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> iob_id<span class="operator">=</span><span class="string">&#x27;IT_PROG&#x27;</span></span><br><span class="line">)<span class="keyword">and</span> job_id<span class="operator">&lt;&gt;</span><span class="string">&#x27;IT_PROG&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">3</span>：返回其他工种中比job_id为IT<span class="operator">-</span>PROG工种所有工资都低的员工的员工号、姓名、job_id以及salary</span><br><span class="line"><span class="keyword">select</span> last_name,employee_id,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">&lt;</span><span class="keyword">all</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="keyword">distinct</span> ssalary </span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> iob_id<span class="operator">=</span><span class="string">&#x27;IT_PROG&#x27;</span></span><br><span class="line">)<span class="keyword">and</span> job_id<span class="operator">&lt;&gt;</span><span class="string">&#x27;IT_PROG&#x27;</span>;</span><br><span class="line">#或</span><br><span class="line"><span class="keyword">select</span> last_name,employee_id,job_id,salary</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> salary<span class="operator">&lt;</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">min</span> (ssalary)</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">where</span> iob_id<span class="operator">=</span><span class="string">&#x27;IT_PROG&#x27;</span></span><br><span class="line">)<span class="keyword">and</span> job_id<span class="operator">&lt;&gt;</span><span class="string">&#x27;IT_PROG&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h6 id="行子查询（多列多行）"><a href="#行子查询（多列多行）" class="headerlink" title="行子查询（多列多行）"></a>行子查询（多列多行）</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#案例：查询员工编号最小并且工资最高的员工信息</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> (employee_id,salary)<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">min</span>(employee_id),<span class="built_in">max</span>(salary)</span><br><span class="line">            <span class="keyword">from</span> employees</span><br><span class="line">);</span><br><span class="line">#——————————————————————————————————————————</span><br><span class="line">#①查询最小的员工编号</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(employee_id)</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line">#②查询最高工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary)</span><br><span class="line"><span class="keyword">from</span> employess</span><br><span class="line">#③查询员工信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">from</span> employess</span><br><span class="line"><span class="keyword">where</span> employee_id<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">min</span>(employee_id)</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">)<span class="keyword">and</span> salary<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">max</span>(salary)</span><br><span class="line">        <span class="keyword">from</span> employess</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h4 id="二、select-后面"><a href="#二、select-后面" class="headerlink" title="二、select 后面"></a>二、select 后面</h4><p>select 后面仅仅支持标量子查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：查询每个部门的员工个数</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>,(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line">        <span class="keyword">from</span> employees e</span><br><span class="line">        <span class="keyword">where</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line">)个数</span><br><span class="line"><span class="keyword">from</span> departments d;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询员工号<span class="operator">=</span><span class="number">102</span>的部门名</span><br><span class="line"><span class="keyword">select</span> (</span><br><span class="line">   		<span class="keyword">select</span> department_name</span><br><span class="line">        <span class="keyword">from</span> departments d</span><br><span class="line">        <span class="keyword">inner</span> <span class="keyword">join</span> employees e</span><br><span class="line">        <span class="keyword">on</span> d.department_id<span class="operator">=</span>e.department_id</span><br><span class="line">        <span class="keyword">where</span> e.employee_id<span class="operator">=</span><span class="number">102</span></span><br><span class="line">) 部门名；</span><br></pre></td></tr></table></figure>



<h4 id="三、from后面"><a href="#三、from后面" class="headerlink" title="三、from后面"></a>三、from后面</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#案例：查询每个部门的平均工资的工资等级</span><br><span class="line"></span><br><span class="line">#①查询每个部门的平均工资</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary),department_id</span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line">#②连接①的结果集和job_grades表，筛选条件平均工资<span class="keyword">between</span> lowest_sal <span class="keyword">and</span> highest_sal</span><br><span class="line"><span class="keyword">select</span> ag_dep.<span class="operator">*</span>,g.grade_level</span><br><span class="line"><span class="keyword">from</span> (</span><br><span class="line">    	<span class="keyword">select</span> <span class="built_in">avg</span>(salary) ag,department_id</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">        <span class="keyword">group</span> <span class="keyword">by</span> department_id</span><br><span class="line">) ag_dep</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> job_grades g</span><br><span class="line"><span class="keyword">on</span> ag_dep.ag <span class="keyword">between</span> lowest_sal <span class="keyword">and</span> highest_sal;</span><br></pre></td></tr></table></figure>



<h4 id="四、exists后面"><a href="#四、exists后面" class="headerlink" title="四、exists后面"></a>四、exists后面</h4><p>语法：exists(完整的查询语句)</p>
<p>结果：1或0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：查询有员工的部门名</span><br><span class="line"><span class="keyword">select</span> department_name</span><br><span class="line"><span class="keyword">from</span> departments d</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">exists</span>(</span><br><span class="line">    	<span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line">        <span class="keyword">from</span> employees e</span><br><span class="line">        <span class="keyword">where</span> d.department_id<span class="operator">=</span>e.department_id</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#使用<span class="keyword">in</span></span><br><span class="line"><span class="keyword">select</span> department_name</span><br><span class="line"><span class="keyword">from</span> departments d</span><br><span class="line"><span class="keyword">where</span> d.department_id <span class="keyword">in</span>(</span><br><span class="line">    	<span class="keyword">select</span> department_id</span><br><span class="line">        <span class="keyword">from</span> employees</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><h4 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景"></a>应用场景</h4><p>当要显示的数据，一页显示不全，需要分页提交sql请求</p>
<h4 id="特点-7"><a href="#特点-7" class="headerlink" title="特点"></a>特点</h4><ol>
<li><p>limit 语句放在查询语句的最后</p>
</li>
<li><p>公式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#要显示的页数page,每页的条目数size</span><br><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line">limit (page—<span class="number">1</span>)<span class="operator">*</span>size,size;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line">[</span><br><span class="line">    jion type <span class="keyword">join</span> 表<span class="number">2</span></span><br><span class="line">    <span class="keyword">on</span> 连接条件</span><br><span class="line">    <span class="keyword">where</span> 筛选条件</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> 分组字段</span><br><span class="line">    <span class="keyword">having</span> 分组后的筛选</span><br><span class="line">    <span class="keyword">order</span> <span class="keyword">by</span> 排序的字段</span><br><span class="line">]</span><br><span class="line">limit [offest,]size;</span><br><span class="line"></span><br><span class="line">#offest 要显示条目的起始索引（起始索引从<span class="number">0</span>开始）</span><br><span class="line">#size 要显示的条目个数</span><br></pre></td></tr></table></figure>



<h4 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：查询前五条员工信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees limit <span class="number">0</span>,<span class="number">5</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees limit <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：查询第十一条到第二十五条员工信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees limit <span class="number">10</span>,<span class="number">15</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">3</span>：查询有奖金的员工信息，并且工资较高的前十名显示出来</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> commission_pct <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span></span><br><span class="line">limit <span class="number">10</span>;</span><br></pre></td></tr></table></figure>



<h3 id="union联合查询"><a href="#union联合查询" class="headerlink" title="union联合查询"></a>union联合查询</h3><h4 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h4><p>查询语句1</p>
<p>union</p>
<p>查询语句2</p>
<p>union</p>
<p>…</p>
<h4 id="应用场景-2"><a href="#应用场景-2" class="headerlink" title="应用场景"></a>应用场景</h4><p>要查询的结果来自多个表，且多个表没有直接的连接关系，但查询的信息一致时</p>
<h4 id="特点-8"><a href="#特点-8" class="headerlink" title="特点"></a>特点</h4><ol>
<li>要求多条查询语句的查询列数是一致的</li>
<li>要求多条查询语句的查询的每一列的类型和顺序最好一致</li>
<li>union关键字默认去重，如果使用union all可以包含重复项</li>
</ol>
<h4 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#案例：查询中国用户中男性信息以及外国用户中男性的用户信息</span><br><span class="line"><span class="keyword">select</span> id,cname,csex <span class="keyword">from</span> t_ca <span class="keyword">where</span> csex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> t_id,tname,tGender <span class="keyword">from</span> t_ua <span class="keyword">where</span> tGender<span class="operator">=</span><span class="string">&#x27;male&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="DML语言的学习"><a href="#DML语言的学习" class="headerlink" title="DML语言的学习"></a>DML语言的学习</h2><p>数据操作语言：</p>
<p>插入：insert</p>
<p>修改：update</p>
<p>删除：delete</p>
<h3 id="一、插入语句"><a href="#一、插入语句" class="headerlink" title="一、插入语句"></a>一、插入语句</h3><h4 id="插入语句方式一"><a href="#插入语句方式一" class="headerlink" title="插入语句方式一"></a>插入语句方式一</h4><h5 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列名，...) <span class="keyword">values</span>(值<span class="number">1</span>，...)；</span><br></pre></td></tr></table></figure>

<h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>插入的值的类型要与列的类型一致或兼容</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(id,name,sex,borndate,phone,photo,boyfriend_id)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">13</span>,<span class="string">&#x27;张三&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1990-4-23&#x27;</span>,<span class="string">&#x27;18988888888&#x27;</span>,<span class="keyword">null</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>不可以为<span class="keyword">null</span>的列必须插入值，可以为<span class="keyword">null</span>的列如何插入值？</span><br><span class="line">#方式一：</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(id,name,sex,borndate,phone,photo,boyfriend_id)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">15</span>,<span class="string">&#x27;李四&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1991-4-23&#x27;</span>,<span class="string">&#x27;18998888888&#x27;</span>,<span class="keyword">null</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">#方式二：</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(id,name,sex,phone)</span><br><span class="line"><span class="keyword">values</span>(<span class="number">13</span>,<span class="string">&#x27;张三&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;18988888888&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>列的顺序可以调换</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(name,sex,id,phone)</span><br><span class="line"><span class="keyword">values</span>(<span class="string">&#x27;王五&#x27;</span>，<span class="string">&#x27;男&#x27;</span>，<span class="number">16</span>，<span class="string">&#x27;110&#x27;</span>)；</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>列数的值和个数必须一致</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">错误写法</span></span><br><span class="line"><span class="comment">insert into beauty(id,name,sex,borndate,phone,photo,boyfriend_id)</span></span><br><span class="line"><span class="comment">values(15,&#x27;李四&#x27;，&#x27;女&#x27;,&#x27;1991-4-23&#x27;,&#x27;18998888888&#x27;,null);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">#<span class="number">5.</span>可以省略列名，默认所有列，而且列的顺序和表中列的顺序一致</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty</span><br><span class="line"><span class="keyword">values</span>(<span class="number">18</span>,<span class="string">&#x27;张飞&#x27;</span>,<span class="string">&#x27;男&#x27;</span>，<span class="keyword">null</span>,<span class="string">&#x27;119&#x27;</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<h4 id="插入语句方式二"><a href="#插入语句方式二" class="headerlink" title="插入语句方式二"></a>插入语句方式二</h4><h5 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名</span><br><span class="line"><span class="keyword">set</span> 列名<span class="operator">=</span>值，列名<span class="operator">=</span>值，...</span><br></pre></td></tr></table></figure>

<h5 id="案例-4"><a href="#案例-4" class="headerlink" title="案例"></a>案例</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty</span><br><span class="line"><span class="keyword">set</span> id<span class="operator">=</span><span class="number">19</span>,name<span class="operator">=</span><span class="string">&#x27;赵六&#x27;</span>,phone<span class="operator">=</span><span class="string">&#x27;999&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="插入语句两种方式比较"><a href="#插入语句两种方式比较" class="headerlink" title="插入语句两种方式比较"></a>插入语句两种方式比较</h4><ol>
<li><p>方式一支持插入多行，方式二不支持</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty</span><br><span class="line"><span class="keyword">values</span>(<span class="number">20</span>,<span class="string">&#x27;李华1&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1991-4-23&#x27;</span>,<span class="string">&#x27;18998888888&#x27;</span>,<span class="keyword">null</span>,<span class="number">2</span>)</span><br><span class="line">,(<span class="number">21</span>,<span class="string">&#x27;李华2&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1991-4-23&#x27;</span>,<span class="string">&#x27;18998888888&#x27;</span>,<span class="keyword">null</span>,<span class="number">2</span>)</span><br><span class="line">,(<span class="number">22</span>,<span class="string">&#x27;李华3&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;1991-4-23&#x27;</span>,<span class="string">&#x27;18998888888&#x27;</span>,<span class="keyword">null</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>方式一支持子查询，方式二不支持</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(id,name,sex,phone)</span><br><span class="line"><span class="keyword">select</span> <span class="number">13</span>,<span class="string">&#x27;张三&#x27;</span>，<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;18988888888&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> beauty(id,name,phone)</span><br><span class="line"><span class="keyword">select</span> id,boyfriend,<span class="string">&#x27;18988888888&#x27;</span></span><br><span class="line"><span class="keyword">from</span> boys <span class="keyword">where</span> id<span class="operator">&lt;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="二、修改语句"><a href="#二、修改语句" class="headerlink" title="二、修改语句"></a>二、修改语句</h3><h4 id="修改单表的记录★"><a href="#修改单表的记录★" class="headerlink" title="修改单表的记录★"></a>修改单表的记录★</h4><h5 id="语法-10"><a href="#语法-10" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名</span><br><span class="line"><span class="keyword">set</span> 列<span class="operator">=</span>新值,列<span class="operator">=</span>新值...</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br></pre></td></tr></table></figure>

<h5 id="案例-5"><a href="#案例-5" class="headerlink" title="案例"></a>案例</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：修改beauty表中姓唐的人的电话为<span class="number">13899999999</span></span><br><span class="line"><span class="keyword">update</span> buauty <span class="keyword">set</span> phone <span class="operator">=</span> <span class="string">&#x27;13899999999&#x27;</span></span><br><span class="line"><span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;唐%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：修改boys表中id为<span class="number">2</span>的名称为张飞，魅力值为<span class="number">10</span></span><br><span class="line"><span class="keyword">update</span> boys <span class="keyword">set</span> boyname<span class="operator">=</span><span class="string">&#x27;张飞&#x27;</span>,usercp<span class="operator">=</span><span class="number">10</span></span><br><span class="line"><span class="keyword">where</span> id<span class="operator">=</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>



<h4 id="修改多表的记录-补充"><a href="#修改多表的记录-补充" class="headerlink" title="修改多表的记录[补充]"></a>修改多表的记录[补充]</h4><h5 id="语法-11"><a href="#语法-11" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#sql92语法</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> 表<span class="number">1</span> 别名，表<span class="number">2</span> 别名</span><br><span class="line"><span class="keyword">set</span> 列<span class="operator">=</span>值,...</span><br><span class="line"><span class="keyword">where</span> 连接条件</span><br><span class="line"><span class="keyword">and</span> 筛选条件</span><br><span class="line"></span><br><span class="line">#sql99语法</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> 表<span class="number">1</span> 别名</span><br><span class="line"><span class="keyword">inner</span><span class="operator">|</span><span class="keyword">left</span><span class="operator">|</span><span class="keyword">right</span> <span class="keyword">join</span> 表<span class="number">2</span> 别名</span><br><span class="line"><span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">set</span> 列<span class="operator">=</span>值,...</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br></pre></td></tr></table></figure>

<h5 id="案例-6"><a href="#案例-6" class="headerlink" title="案例"></a>案例</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#案例<span class="number">1</span>：修改张无忌的女朋友手机号为<span class="number">114</span></span><br><span class="line"><span class="keyword">update</span> boys bo</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> beauty b <span class="keyword">on</span> bo.id<span class="operator">=</span>b.boyfriend_id</span><br><span class="line"><span class="keyword">set</span> b.phone<span class="operator">=</span><span class="string">&#x27;114&#x27;</span></span><br><span class="line"><span class="keyword">where</span> bo.boyname<span class="operator">=</span><span class="string">&#x27;张无忌&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：修改没有男朋友的女生的男朋友编号都为<span class="number">2</span></span><br><span class="line"><span class="keyword">update</span> boys bo</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> beauty b <span class="keyword">on</span> bo.id<span class="operator">=</span>b.boyfriend_id</span><br><span class="line"><span class="keyword">set</span> b.boyfriend_id<span class="operator">=</span><span class="number">2</span></span><br><span class="line"><span class="keyword">where</span> bo.id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>



<h3 id="三、删除语句"><a href="#三、删除语句" class="headerlink" title="三、删除语句"></a>三、删除语句</h3><h4 id="删除语句方式一：delete"><a href="#删除语句方式一：delete" class="headerlink" title="删除语句方式一：delete"></a>删除语句方式一：delete</h4><h5 id="语法-12"><a href="#语法-12" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>单表的删除★</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 筛选条件；</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>多表的删除(级联删除) [补充]</span><br><span class="line"></span><br><span class="line">#sql92语法：</span><br><span class="line"><span class="keyword">delete</span> 表<span class="number">1</span>的别名,表<span class="number">2</span>的别名</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名，表<span class="number">2</span> 别名</span><br><span class="line"><span class="keyword">where</span> 连接条件</span><br><span class="line"><span class="keyword">and</span> 筛选条件</span><br><span class="line"></span><br><span class="line">#sql99语法：</span><br><span class="line"><span class="keyword">delete</span> 表<span class="number">1</span>的别名,表<span class="number">2</span>的别名</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名</span><br><span class="line"><span class="keyword">inner</span><span class="operator">|</span><span class="keyword">left</span><span class="operator">|</span><span class="keyword">right</span> <span class="keyword">join</span> 表<span class="number">2</span> 别名 <span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br></pre></td></tr></table></figure>

<h5 id="案例-7"><a href="#案例-7" class="headerlink" title="案例"></a>案例</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>单表的删除</span><br><span class="line"></span><br><span class="line">#案例：删除手机号以<span class="number">9</span>结尾的女生信息</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> beauty <span class="keyword">where</span> phone <span class="keyword">like</span> <span class="string">&#x27;%9&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>多表的删除</span><br><span class="line"></span><br><span class="line">#案例<span class="number">1</span>：删除张无忌的女朋友的信息</span><br><span class="line"><span class="keyword">delete</span> b</span><br><span class="line"><span class="keyword">from</span> beauty b</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> boys bo <span class="keyword">on</span> b.boyfriend_id<span class="operator">=</span>bo.id</span><br><span class="line"><span class="keyword">where</span> bo.boyname<span class="operator">=</span><span class="string">&#x27;张无忌&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#案例<span class="number">2</span>：删除黄晓明的信息以及他女朋友的信息</span><br><span class="line"><span class="keyword">delete</span> b,bo</span><br><span class="line"><span class="keyword">from</span> beauty b</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> boys bo <span class="keyword">on</span> b.boyfriend_id<span class="operator">=</span>bo.id</span><br><span class="line"><span class="keyword">where</span> bo.boyname<span class="operator">=</span><span class="string">&#x27;黄晓明&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h4 id="删除语句方式二：truncate"><a href="#删除语句方式二：truncate" class="headerlink" title="删除语句方式二：truncate"></a>删除语句方式二：truncate</h4><h5 id="语法-13"><a href="#语法-13" class="headerlink" title="语法"></a>语法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> 表名；</span><br></pre></td></tr></table></figure>

<h4 id="删除语句两种方式的区别-★面试题"><a href="#删除语句两种方式的区别-★面试题" class="headerlink" title="删除语句两种方式的区别[★面试题]"></a>删除语句两种方式的区别[★面试题]</h4><ol>
<li><p>delete可以加where条件，truncate不能加</p>
</li>
<li><p>truncate删除，效率高一丢丢</p>
</li>
<li><p>假如要删除的表中有自增长列，</p>
<p>如果用delete删除后，再插入数据，自增长列的值从断点开始，</p>
<p>而用truncate删除后，再插入数据，自增长列的值从1开始。</p>
</li>
<li><p>truncate删除没有返回值，而delete删除有返回值</p>
</li>
<li><p>truncate删除不能回滚，而delete删除可以回滚</p>
</li>
</ol>
<h2 id="DDL语言的学习"><a href="#DDL语言的学习" class="headerlink" title="DDL语言的学习"></a>DDL语言的学习</h2><p>数据定义语言</p>
<h3 id="库和表的管理"><a href="#库和表的管理" class="headerlink" title="库和表的管理"></a>库和表的管理</h3><p>创建库、表通用写法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database if exits 旧库名；</span><br><span class="line"><span class="keyword">create</span> database 新库名；</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if exits 旧表名；</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 新表名；</span><br></pre></td></tr></table></figure>

<h4 id="一、库的管理"><a href="#一、库的管理" class="headerlink" title="一、库的管理"></a>一、库的管理</h4><h5 id="1-库的创建"><a href="#1-库的创建" class="headerlink" title="1.库的创建"></a>1.库的创建</h5><h6 id="语法-14"><a href="#语法-14" class="headerlink" title="语法"></a>语法</h6><p><code>create database [if not exists] 库名 [character set 字符集];</code></p>
<h6 id="案例-8"><a href="#案例-8" class="headerlink" title="案例"></a>案例</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#创建库books</span><br><span class="line"><span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> books;</span><br></pre></td></tr></table></figure>

<h5 id="2-库的修改"><a href="#2-库的修改" class="headerlink" title="2.库的修改"></a>2.库的修改</h5><p><code>rename database books to 新库名；</code>【该语句已不在使用】</p>
<p><strong>更改库的字符集</strong>  <code>alter database books character set gbk;</code></p>
<h5 id="3-库的删除"><a href="#3-库的删除" class="headerlink" title="3.库的删除"></a>3.库的删除</h5><h6 id="语法-15"><a href="#语法-15" class="headerlink" title="语法"></a>语法</h6><p><code>drop database [if exists] 库名;</code></p>
<h6 id="案例-9"><a href="#案例-9" class="headerlink" title="案例"></a>案例</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#删除库books</span><br><span class="line"><span class="keyword">drop</span> database if <span class="keyword">exists</span> books;</span><br></pre></td></tr></table></figure>



<h4 id="二、表的管理"><a href="#二、表的管理" class="headerlink" title="二、表的管理"></a>二、表的管理</h4><h5 id="1-表的创建"><a href="#1-表的创建" class="headerlink" title="1.表的创建"></a>1.表的创建</h5><h6 id="语法-16"><a href="#语法-16" class="headerlink" title="语法"></a>语法</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> [if <span class="keyword">not</span> <span class="keyword">exists</span>] 表名(</span><br><span class="line">		列名 列的类型 [(长度) 约束],</span><br><span class="line">    	列名 列的类型 [(长度) 约束],</span><br><span class="line">    	列名 列的类型 [(长度) 约束],</span><br><span class="line">    	...</span><br><span class="line">    	列名 列的类型 [(长度) 约束]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h6 id="案例-10"><a href="#案例-10" class="headerlink" title="案例"></a>案例</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#创建表book</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> book(</span><br><span class="line">		id <span class="type">int</span>,#编号</span><br><span class="line">    	bname <span class="type">varchar</span>(<span class="number">20</span>),#图书名</span><br><span class="line">    	price <span class="keyword">double</span>,#价格</span><br><span class="line">    	authorId <span class="type">int</span>,#作者编号</span><br><span class="line">    	publishDate datetime#出版日期</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="2-表的修改"><a href="#2-表的修改" class="headerlink" title="2.表的修改"></a>2.表的修改</h5><ol>
<li><p>修改列名</p>
<p><code>alter table book change column publishdate pubDate datetime;</code></p>
</li>
<li><p>修改列的类型或约束</p>
<p><code>alter table book modify column pubDate timestamp;</code></p>
</li>
<li><p>添加新列</p>
<p><code>alter table author add column annual double;</code></p>
</li>
<li><p>删除列</p>
<p><code>alter table author drop column annual;</code></p>
</li>
<li><p>修改表名</p>
<p><code>alter table author rename to book_author;</code></p>
</li>
</ol>
<h5 id="3-表的删除"><a href="#3-表的删除" class="headerlink" title="3.表的删除"></a>3.表的删除</h5><p><code>drop table [if exists] book_author;</code></p>
<h5 id="4-表的复制"><a href="#4-表的复制" class="headerlink" title="4.表的复制"></a>4.表的复制</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>仅仅复制表的结构</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">copy</span> <span class="keyword">like</span> author;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>复制表的结构<span class="operator">+</span>数据</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> copy2</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> author;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>只复制部分数据</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> copy3</span><br><span class="line"><span class="keyword">select</span> id,au_name</span><br><span class="line"><span class="keyword">from</span> author</span><br><span class="line"><span class="keyword">where</span> nation<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>仅仅复制某些字段</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> copy4</span><br><span class="line"><span class="keyword">select</span> id,au_name</span><br><span class="line"><span class="keyword">from</span> author</span><br><span class="line"><span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">#或者</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> copy4</span><br><span class="line"><span class="keyword">select</span> id,au_name</span><br><span class="line"><span class="keyword">from</span> author</span><br><span class="line"><span class="keyword">where</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>



<h3 id="常见数据类型介绍"><a href="#常见数据类型介绍" class="headerlink" title="常见数据类型介绍"></a>常见数据类型介绍</h3><ul>
<li>数值型<ul>
<li>整型</li>
<li>小数<ul>
<li>定点数</li>
<li>浮点数</li>
</ul>
</li>
</ul>
</li>
<li>字符型<ul>
<li>较长的文本</li>
<li>较短的文本</li>
</ul>
</li>
<li>日期型</li>
</ul>
<p>原则：所选择的类型越简单越好，能保存数值的类型越小越好</p>
<h4 id="一、整型"><a href="#一、整型" class="headerlink" title="一、整型"></a>一、整型</h4><h5 id="分类-6"><a href="#分类-6" class="headerlink" title="分类"></a>分类</h5><table>
<thead>
<tr>
<th>类型</th>
<th>tinyint</th>
<th>smallint</th>
<th>mediumint</th>
<th>int/integer</th>
<th>bigint</th>
</tr>
</thead>
<tbody><tr>
<td>字节</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>8</td>
</tr>
</tbody></table>
<h5 id="特点-9"><a href="#特点-9" class="headerlink" title="特点"></a>特点</h5><ol>
<li>如果不设置有符号还是无符号，默认是有符号，如果想设置无符号，需要添加unsigned关键字</li>
<li>如果插入的数值超出了整型的范围，会报out of range异常，并且插入临界值</li>
<li>如果不设置长度，会有默认的长度，长度代表了显示的最大宽度，如果不够会用0在左边填充，但必须搭配zerofill使用</li>
</ol>
<h4 id="二、小数"><a href="#二、小数" class="headerlink" title="二、小数"></a>二、小数</h4><h5 id="分类-7"><a href="#分类-7" class="headerlink" title="分类"></a>分类</h5><ol>
<li>浮点型<ul>
<li>float(m,d)</li>
<li>double(m,d)</li>
</ul>
</li>
<li>定点型<ul>
<li>dec(m,d)</li>
<li>decimal(m,d)</li>
</ul>
</li>
</ol>
<h5 id="特点-10"><a href="#特点-10" class="headerlink" title="特点"></a>特点</h5><ol>
<li><p>m:整数部位+小数部位，d:小数部位，如果超过范围，则插入临界值</p>
</li>
<li><p>m和d都可以省略</p>
<p>如果是decimal，则m默认为10，d默认为0</p>
<p>如果是float和double，则会根据插入的数值的精度来决定精度</p>
</li>
<li><p>定点型的精度较高，如果要求插入数值的精度较高如货币运算等则考虑使用</p>
</li>
</ol>
<h4 id="三、字符型"><a href="#三、字符型" class="headerlink" title="三、字符型"></a>三、字符型</h4><h5 id="分类-8"><a href="#分类-8" class="headerlink" title="分类"></a>分类</h5><ul>
<li>较短的文本：</li>
</ul>
<p>​        char</p>
<p>​        varchar</p>
<ul>
<li>较长的文本：</li>
</ul>
<p>​        text</p>
<p>​        blob(较大的二进制)</p>
<h5 id="特点-11"><a href="#特点-11" class="headerlink" title="特点"></a>特点</h5><table>
<thead>
<tr>
<th></th>
<th>写法</th>
<th>M的意思</th>
<th>特点</th>
<th>空间的耗费</th>
<th>效率</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>char(M)</td>
<td>最大的字符数，可以省略，默认为1</td>
<td>固定长度的字符</td>
<td>比较耗费</td>
<td>高</td>
</tr>
<tr>
<td>varchar</td>
<td>varchar(M)</td>
<td>最大的字符数，不可以省略</td>
<td>可变长度的字符</td>
<td>比较节省</td>
<td>低</td>
</tr>
</tbody></table>
<h4 id="四、日期型"><a href="#四、日期型" class="headerlink" title="四、日期型"></a>四、日期型</h4><h5 id="分类-9"><a href="#分类-9" class="headerlink" title="分类"></a>分类</h5><ul>
<li>date 只保存日期</li>
<li>time 只保存时间</li>
<li>year 只保存年</li>
<li>datetime 保存日期+时间</li>
<li>timestamp 保存日期+时间</li>
</ul>
<h5 id="特点-12"><a href="#特点-12" class="headerlink" title="特点"></a>特点</h5><table>
<thead>
<tr>
<th></th>
<th>字节</th>
<th>范围</th>
<th>时区等的影响</th>
</tr>
</thead>
<tbody><tr>
<td>datetime</td>
<td>8</td>
<td>1000—9999</td>
<td>不受</td>
</tr>
<tr>
<td>timestamp</td>
<td>4</td>
<td>1970—2038</td>
<td>受</td>
</tr>
</tbody></table>
<h3 id="常见约束"><a href="#常见约束" class="headerlink" title="常见约束"></a>常见约束</h3><p>含义：一种限制，用于制表中的数据，为了保证表中数据的准确和可靠性</p>
<h4 id="分类-10"><a href="#分类-10" class="headerlink" title="分类"></a>分类</h4><ol>
<li><p>not null :非空，用于保证该字段的值不能为空</p>
</li>
<li><p>default :默认，用于保证该字段有默认值</p>
</li>
<li><p>primary key : 主键，用于保证该字段的值具有唯一性，并且非空</p>
</li>
<li><p>unique : 唯一，用于保证该字段的值具有唯一性，可以为空</p>
</li>
<li><p>check ：检查约束，[mysql中不支持]</p>
</li>
<li><p>foreign key :外键，用于限制两个表的关系，用于保证该字段的值必须来自于主表的关联列的值</p>
<p>​                        在从表添加外键约束，用于引用主表中某列的值</p>
</li>
</ol>
<p>添加约束的时机：</p>
<ol>
<li>创建表时</li>
<li>修改表时</li>
</ol>
<p>约束的添加分类：</p>
<ol>
<li><p>列级约束</p>
<p>​    六大约束语法上都支持，但外键约束没有效果</p>
</li>
<li><p>表级约束</p>
<p>​    除了非空、默认，其他的都支持</p>
</li>
</ol>
<p><strong>主键和唯一的区别[面试题]</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>保证唯一性</th>
<th>是否允许为空</th>
<th>一个表中可以有多少个</th>
<th>是否允许组合</th>
</tr>
</thead>
<tbody><tr>
<td>主键</td>
<td>√</td>
<td>×</td>
<td>至多有一个</td>
<td>√ (不推荐)</td>
</tr>
<tr>
<td>唯一</td>
<td>√</td>
<td>√</td>
<td>可以有多个</td>
<td>√ (不推荐)</td>
</tr>
</tbody></table>
<p><strong>外键的特点</strong></p>
<ol>
<li>要求在从表设置外键关系</li>
<li>从表的外键列的类型和主表的关联列的类型要求一致或兼容，名称无要求</li>
<li>主表的关联列一般是一个key(一般是主键或唯一键)</li>
<li>插入数据时，先插入主表，再插入从表；删除数据时，先删除从表，再删除主表</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#可以通过以下两种方式来删除主表的记录</span><br><span class="line">#级联删除</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">add</span> <span class="keyword">constraint</span> fk_stu_major <span class="keyword">foreign</span> key(majorid) <span class="keyword">references</span> major(id) <span class="keyword">on</span> <span class="keyword">delete</span> cascade;</span><br><span class="line"></span><br><span class="line">#级联置空</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">add</span> <span class="keyword">constraint</span> fk_stu_major <span class="keyword">foreign</span> key(majorid) <span class="keyword">references</span> major(id) <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">set</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>



<h4 id="一、创建表时添加约束"><a href="#一、创建表时添加约束" class="headerlink" title="一、创建表时添加约束"></a>一、创建表时添加约束</h4><h5 id="1-添加列级约束"><a href="#1-添加列级约束" class="headerlink" title="1.添加列级约束"></a>1.添加列级约束</h5><p>只支持：默认、非空、主键、唯一</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stuinfo(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,#主键</span><br><span class="line">    stuName <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,#非空</span><br><span class="line">    gender <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">check</span>(gender<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">or</span> gender<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>),#检查约束，不支持</span><br><span class="line">    seat <span class="type">int</span> <span class="keyword">unique</span>,#唯一</span><br><span class="line">    age <span class="type">int</span> <span class="keyword">default</span> <span class="number">18</span>,#默认约束</span><br><span class="line">    majorId <span class="type">int</span> <span class="keyword">references</span> major(id)#外键，列级约束不支持</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="2-添加表级约束"><a href="#2-添加表级约束" class="headerlink" title="2.添加表级约束"></a>2.添加表级约束</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stuinfo(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    stuName <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    gender <span class="type">char</span>(<span class="number">1</span>),</span><br><span class="line">    seat <span class="type">int</span>,</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    majorid <span class="type">int</span>, </span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">constraint</span> pk] <span class="keyword">primary</span> key(id),#主键</span><br><span class="line">    [<span class="keyword">constraint</span> uq] <span class="keyword">unique</span>(seat),#唯一键</span><br><span class="line">    [<span class="keyword">constraint</span> ck] <span class="keyword">check</span>(gender<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">or</span> gender<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>),#检查约束，不支持</span><br><span class="line">    [<span class="keyword">constraint</span> fk_stuinfo_major] <span class="keyword">foreign</span> key(majorid) <span class="keyword">references</span> major(id)#外键</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="通用写法"><a href="#通用写法" class="headerlink" title="通用写法"></a>通用写法</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">exists</span> stuinfo(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    stuName <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    gender <span class="type">char</span>(<span class="number">1</span>),</span><br><span class="line">    seat <span class="type">int</span> <span class="keyword">unique</span>,#唯一</span><br><span class="line">    age <span class="type">int</span> <span class="keyword">default</span> <span class="number">18</span>,</span><br><span class="line">    majorid <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">constraint</span> fk_stuinfo_major <span class="keyword">foreign</span> key(majorid) <span class="keyword">references</span> major(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="二、修改表时添加约束"><a href="#二、修改表时添加约束" class="headerlink" title="二、修改表时添加约束"></a>二、修改表时添加约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> stuinfo</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stuinfo(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    stuname <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    gender <span class="type">char</span>(<span class="number">1</span>),</span><br><span class="line">    seat <span class="type">int</span>,</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    majorid <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#<span class="number">1.</span>添加非空约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify <span class="keyword">column</span> stuname <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>添加默认约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify <span class="keyword">column</span> age <span class="type">int</span> <span class="keyword">default</span> <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>添加主键约束</span><br><span class="line">#①列级约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify <span class="keyword">column</span> id <span class="type">int</span> <span class="keyword">primary</span> ley;</span><br><span class="line">#②表级约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">add</span> <span class="keyword">primary</span> key(id);</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>添加唯一约束</span><br><span class="line">#①列级约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify <span class="keyword">column</span> seat <span class="type">int</span> <span class="keyword">unique</span>;</span><br><span class="line">#②表级约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">add</span> <span class="keyword">unique</span> (seat);</span><br><span class="line"></span><br><span class="line">#<span class="number">5.</span>添加外键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">add</span> <span class="keyword">constraint</span> fk_stuindo_major <span class="keyword">foreign</span> key(majorid) <span class="keyword">references</span> major(id);</span><br></pre></td></tr></table></figure>

<h4 id="三、修改表时删除约束"><a href="#三、修改表时删除约束" class="headerlink" title="三、修改表时删除约束"></a>三、修改表时删除约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>删除非空约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify <span class="keyword">column</span> stuname <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>删除默认约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo modify age <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>删除主键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">drop</span> <span class="keyword">primary</span> key;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span>删除唯一约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">drop</span> index seat;</span><br><span class="line"></span><br><span class="line">#<span class="number">5.</span>删除外键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stuinfo <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_stuindo_major;</span><br></pre></td></tr></table></figure>

<h4 id="四、标识列"><a href="#四、标识列" class="headerlink" title="四、标识列"></a>四、标识列</h4><p>又称为<strong>自增长列</strong></p>
<p>含义：可以不用手动的插入值，系统提供默认的序列值</p>
<p>特点：</p>
<ol>
<li><p>标识符必须和主键搭配吗？不一定，但要求是一个key</p>
</li>
<li><p>一个表可以有几个标识列？至多一个！</p>
</li>
<li><p>标识符的类型只能是数值型</p>
</li>
<li><p>标识符可以通过 <code>set auto_increment_increment=3;</code>设置布长</p>
<p>也可以通过手动插入值，设置起始值</p>
</li>
</ol>
<h5 id="一、创建表时设置标识列"><a href="#一、创建表时设置标识列" class="headerlink" title="一、创建表时设置标识列"></a>一、创建表时设置标识列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_identity(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_identity(id,name) <span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;john&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="二、修改表时设置标识列"><a href="#二、修改表时设置标识列" class="headerlink" title="二、修改表时设置标识列"></a>二、修改表时设置标识列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tab_identity modify <span class="keyword">column</span> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment;</span><br></pre></td></tr></table></figure>

<h5 id="三、修改表时删除标识列"><a href="#三、修改表时删除标识列" class="headerlink" title="三、修改表时删除标识列"></a>三、修改表时删除标识列</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tab_identity modify <span class="keyword">column</span> id <span class="type">int</span> <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>



<h2 id="TCL语言的学习"><a href="#TCL语言的学习" class="headerlink" title="TCL语言的学习"></a>TCL语言的学习</h2><p><strong>Transaction  Control  Language  事务控制语言</strong></p>
<p><strong>事务</strong>：一个或一组sql语句组成一个执行单元，这个执行单元要么全部执行，要么全部不执行</p>
<h3 id="事务和事务处理"><a href="#事务和事务处理" class="headerlink" title="事务和事务处理"></a>事务和事务处理</h3><h4 id="MySQL中的存储引擎-了解"><a href="#MySQL中的存储引擎-了解" class="headerlink" title="MySQL中的存储引擎[了解]"></a>MySQL中的存储引擎[了解]</h4><ol>
<li>概念：在MySQL中的数据用各种不同的技术存储在文件（或内存）中</li>
<li>通过show engines; 来查看MySQL支持的存储引擎</li>
<li>在MySQL中用的最多的存储引擎有：innodb,myisam,memory等。其中innodb支持事务，而myisam、memory等不支持事务</li>
</ol>
<h4 id="事务的ACID属性-经典面试题"><a href="#事务的ACID属性-经典面试题" class="headerlink" title="事务的ACID属性[经典面试题]"></a>事务的ACID属性[经典面试题]</h4><ol>
<li><p>原子性(Atomicity)</p>
<p>原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生</p>
</li>
<li><p>一致性(Consistency)</p>
<p>事务必须使数据库从一个一致性状态变换到另外一个一致性状态</p>
</li>
<li><p>隔离性(Isolation)</p>
<p>事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰</p>
</li>
<li><p>持久性(Durability)</p>
<p>持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响</p>
</li>
</ol>
<h4 id="事务的创建"><a href="#事务的创建" class="headerlink" title="事务的创建"></a>事务的创建</h4><p>隐式事务：事务没有明显的开启和结束的标志</p>
<p>​                    比如：insert、update、delete语句</p>
<p>显式事务：事务具有明显的开启和结束的标记</p>
<p>前提：必须先设置自动提交功能为禁用 <code>set autocommit=0; </code></p>
<p>步骤1：开启事务</p>
<p><code>set autocommit=0;</code></p>
<p><code>start transaction; </code>可选</p>
<p>步骤2：编写事务中的sql语句（select、insert、update、delete）</p>
<p>语句1；</p>
<p>语句2；</p>
<p>…</p>
<p>步骤3: 结束事务</p>
<p>commit;提交事务</p>
<p>rollback;回滚事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#演示事务的使用步骤</span><br><span class="line"></span><br><span class="line">#开启事务</span><br><span class="line"><span class="keyword">set</span> autocommit<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line">#编写一组事务的语句</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> balance<span class="operator">=</span><span class="number">500</span> <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;张无忌&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> balance<span class="operator">=</span><span class="number">1500</span> <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;赵敏&#x27;</span>;</span><br><span class="line">#结束事务</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>

<h4 id="数据库的隔离级别"><a href="#数据库的隔离级别" class="headerlink" title="数据库的隔离级别"></a>数据库的隔离级别</h4><ul>
<li><p>对于同时运行的多个事务，当这些事务访问数据库中相同的数据时，如果没有采取必要的隔离机制，就会导致各种并发问题：</p>
<ul>
<li>脏读：对于两个事务T1,T2,T1读取了已经被T2更新但还没有被提交的字段之后，若T2回滚，T1读取的内容就是临时且无效的；</li>
<li>不可重复读：对于两个事务T1,T2,T1读取了一个字段，然后T2更新了该字段之后，T1再次读取同一个字段，值就不同了；</li>
<li>幻读：对于两个事务T1,T2,T1从一个表中读取了一个字段，然后T2在该表中插入了一些新的行之后，如果T1再次读取同一个表，就会多出几行；</li>
</ul>
</li>
<li><p>数据库事务的隔离性：数据库系统必须具有隔离并发运行各个事务的能力，使它们不会相互影响，避免各种并发问题</p>
</li>
<li><p>一个事务与其他事务隔离的程度称为隔离级别，数据库规定了多种事务隔离级别，不同隔离级别对应不同的干扰程度，隔离级别越高，数据一致性就越好，但并发性越弱</p>
</li>
<li><p>数据库提供的4种事务隔离级别：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>隔离级别</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>READ UNCOMMITTED(读未提交数据)</td>
<td>允许事务读取未被其他事务提交的变更,脏读、不可重复读和幻读问题都会出现</td>
</tr>
<tr>
<td>READ COMMITTED（读已提交数据）</td>
<td>只允许事务读取已经被其他事务提交的变更，可以避免脏读，但不可重复读和幻读问题仍然可能出现</td>
</tr>
<tr>
<td>REPEATABLE READ（可重复读）</td>
<td>确保事务可以多次从一个字段中读取相同的值，在这个事务持续期间，禁止其他事务对这个字段进行更新，可以避免脏读和不可重复读，但幻读的问题仍然存在</td>
</tr>
<tr>
<td>SERIALIZABLE（串行化）</td>
<td>确保事务可以从一个表中读取相同的行，在这个事务持续期间，禁止其他事务对该表执行插入，更新和删除操作，所有并发问题都可以避免，但性能十分低下</td>
</tr>
</tbody></table>
<ul>
<li>Oracle支持的2种事务隔离级别：READ COMMITTED,SERIALIZABLE。Oracle默认的事务隔离级别为READ COMMITTED</li>
<li>MySQL支持4种事务隔离级别，MySQL默认的事务隔离级别为REPEATABLE READ</li>
</ul>
<h4 id="在MySQL中设置隔离级别"><a href="#在MySQL中设置隔离级别" class="headerlink" title="在MySQL中设置隔离级别"></a>在MySQL中设置隔离级别</h4><ul>
<li>每启动一个MySQL程序，就会获得一个单独的数据库连接，每个数据库连接都有一个全局变量@@tx_isolation,表示当前的事务隔离级别</li>
<li>查看当前的隔离级别：<code>select @@tx_isolation;</code></li>
<li>设置当前MySQL连接的隔离级别：<code>set transaction isolation level read committed;</code></li>
<li>设置数据库系统的全局的隔离级别：<code>set global transaction isolation level read committed;</code></li>
</ul>
<h2 id="视图的讲解"><a href="#视图的讲解" class="headerlink" title="视图的讲解"></a>视图的讲解</h2><p><strong>视图</strong>：MySQL从5.0.1版本开始提供视图功能。一种虚拟存在的表，行和列的数据来自定义视图的查询中使用的表，并且是在使用视图时动态生成的。</p>
<p><strong>视图的好处：</strong></p>
<ol>
<li>重用sql语句</li>
<li>简化复杂的sql操作，不必知道它的查询细节</li>
<li>保护数据，提高安全性</li>
</ol>
<h3 id="一、创建视图"><a href="#一、创建视图" class="headerlink" title="一、创建视图"></a>一、创建视图</h3><h4 id="语法-17"><a href="#语法-17" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句；</span><br></pre></td></tr></table></figure>

<h4 id="案例-11"><a href="#案例-11" class="headerlink" title="案例"></a>案例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>查询姓名中包含a字符的员工名、部门名和工种信息</span><br><span class="line">#①创建</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> myv1</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> last_name,department_name,job_title</span><br><span class="line"><span class="keyword">from</span> employees e</span><br><span class="line"><span class="keyword">join</span> departments d <span class="keyword">on</span> e.department_id<span class="operator">=</span>d.department_id</span><br><span class="line"><span class="keyword">join</span> jobs j <span class="keyword">on</span> j.job_id<span class="operator">=</span>e.job_id;</span><br><span class="line">#②使用</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> myv1 <span class="keyword">where</span> last_name <span class="keyword">like</span> <span class="string">&#x27;&amp;a&amp;&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h3 id="二、修改视图"><a href="#二、修改视图" class="headerlink" title="二、修改视图"></a>二、修改视图</h3><h4 id="语法-18"><a href="#语法-18" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#方式一</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句;</span><br><span class="line"></span><br><span class="line">#方式二</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句；</span><br></pre></td></tr></table></figure>



<h3 id="三、删除视图"><a href="#三、删除视图" class="headerlink" title="三、删除视图"></a>三、删除视图</h3><h4 id="语法-19"><a href="#语法-19" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图名，视图名，...;</span><br></pre></td></tr></table></figure>



<h3 id="四、查看视图"><a href="#四、查看视图" class="headerlink" title="四、查看视图"></a>四、查看视图</h3><h4 id="语法-20"><a href="#语法-20" class="headerlink" title="语法"></a>语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> 视图名；</span><br><span class="line">#或</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> 视图名；</span><br></pre></td></tr></table></figure>



<h3 id="五、更新视图"><a href="#五、更新视图" class="headerlink" title="五、更新视图"></a>五、更新视图</h3><p><strong>视图一般用于查询的，而不是更新的，视图的可更新性和视图中查询的定义有关系，以下类型的视图是不能更新的</strong></p>
<ul>
<li>包含以下关键子的sql语句：分组函数、distinct、group by、having、union或者union all</li>
<li>常量视图</li>
<li>select中包含子查询</li>
<li>join</li>
<li>from一个不能更新的视图</li>
<li>where 子句的子查询引用了from子句中的表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>插入</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> myv1 <span class="keyword">values</span>(<span class="string">&#x27;张飞&#x27;</span>,<span class="string">&#x27;zf@qq.com&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span>修改</span><br><span class="line"><span class="keyword">update</span> myv1 <span class="keyword">set</span> last_name<span class="operator">=</span><span class="string">&#x27;张无忌&#x27;</span><span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;张飞&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>删除</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> myv1 <span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;张无忌&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="一、系统变量"><a href="#一、系统变量" class="headerlink" title="一、系统变量"></a>一、系统变量</h3><p>说明：变量由系统提供的，不是用户定义，属于服务器层面</p>
<h4 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h4><p>作用域：服务器每次启动将为所有的全局变量赋初始值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1</span>、查看所有的全局变量</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">global</span> variables;</span><br><span class="line"></span><br><span class="line">#<span class="number">2</span>、查看满足条件的部分全局变量</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">global</span> variables <span class="keyword">like</span> <span class="string">&#x27;%char%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3</span>、查看某个指定的全局变量的值</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@global</span>.全局变量名；</span><br><span class="line"><span class="keyword">select</span> @@全局变量名；</span><br><span class="line">#<span class="number">4</span>、为某个全局变量赋值</span><br><span class="line"><span class="keyword">set</span> @<span class="variable">@global</span>.全局变量名<span class="operator">=</span>值;</span><br></pre></td></tr></table></figure>



<h4 id="会话变量"><a href="#会话变量" class="headerlink" title="会话变量"></a>会话变量</h4><p>作用域：仅仅针对当前会话（连续）有效</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1</span>、查看所有的会话变量</span><br><span class="line"><span class="keyword">show</span> session variables;</span><br><span class="line"></span><br><span class="line">#<span class="number">2</span>、查看满足条件的部分会话变量</span><br><span class="line"><span class="keyword">show</span> session variables <span class="keyword">like</span> <span class="string">&#x27;%char%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3</span>、查看某个指定的会话变量的值</span><br><span class="line"><span class="keyword">select</span> @@会话变量名；</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@session</span> .会话变量名；</span><br><span class="line"></span><br><span class="line">#<span class="number">4</span>、为某个会话变量赋值</span><br><span class="line">#方式一</span><br><span class="line"><span class="keyword">set</span> session 会话变量名<span class="operator">=</span>值;</span><br><span class="line">#方式二</span><br><span class="line"><span class="keyword">set</span> @<span class="variable">@session</span>.会话变量名<span class="operator">=</span>值;</span><br></pre></td></tr></table></figure>

<p>注意：如果不写global或，默认session</p>
<h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><p>说明：变量是用户自定义的，不是由系统的</p>
<p>使用步骤：</p>
<p>声明</p>
<p>赋值</p>
<p>使用（查看、比较、运算等）</p>
<h4 id="用户变量"><a href="#用户变量" class="headerlink" title="用户变量"></a>用户变量</h4><p>作用域：针对于当前会话（连接）有效，同于会话变量的作用域</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#①声明并初始化</span><br><span class="line"><span class="keyword">set</span> @用户变量名<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">set</span> @用户变量名：<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">select</span>@用户变量名：<span class="operator">=</span>值；</span><br><span class="line"></span><br><span class="line">#②赋值（更新用户变量的值）</span><br><span class="line">#方式一：通过<span class="keyword">set</span> 和<span class="keyword">select</span></span><br><span class="line"><span class="keyword">set</span> @用户变量名<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">set</span> @用户变量名：<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">select</span>@用户变量名：<span class="operator">=</span>值；</span><br><span class="line">#方式二：通过<span class="keyword">select</span> <span class="keyword">into</span></span><br><span class="line"><span class="keyword">select</span> 字段 <span class="keyword">into</span> 变量名</span><br><span class="line"><span class="keyword">from</span> 表;</span><br><span class="line"></span><br><span class="line">#③使用（查看某个用户变量的值）</span><br><span class="line"><span class="keyword">select</span> @用户变量名;</span><br></pre></td></tr></table></figure>



<h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><p>作用域：仅仅在定义它的begin end 中有效</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#①声明</span><br><span class="line"><span class="keyword">declare</span> 变量名 类型;</span><br><span class="line"><span class="keyword">declare</span> 变量名 类型 <span class="keyword">default</span> 值;</span><br><span class="line"></span><br><span class="line">#②赋值</span><br><span class="line">#方式一：通过<span class="keyword">set</span> 和<span class="keyword">select</span></span><br><span class="line"><span class="keyword">set</span> 局部变量名<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">set</span> 局部变量名：<span class="operator">=</span>值；</span><br><span class="line"><span class="keyword">select</span>@局部变量名：<span class="operator">=</span>值；</span><br><span class="line">#方式二：通过<span class="keyword">select</span> <span class="keyword">into</span></span><br><span class="line"><span class="keyword">select</span> 字段 <span class="keyword">into</span> 局部变量名</span><br><span class="line"><span class="keyword">from</span> 表;</span><br><span class="line"></span><br><span class="line">#③使用</span><br><span class="line"><span class="keyword">select</span> 局部变量名;</span><br></pre></td></tr></table></figure>



<h2 id="存储过程和函数"><a href="#存储过程和函数" class="headerlink" title="存储过程和函数"></a>存储过程和函数</h2><h3 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h3><p>存储过程含义：一组预先编译好的sql语句的集合，理解成批处理语句</p>
<p>好处：</p>
<ol>
<li>提高代码的重用性，</li>
<li>简化操作，</li>
<li>减少了编译次数，并且减少了和数据库服务器的连接次数，提高了效率</li>
</ol>
<h4 id="一、创建语法"><a href="#一、创建语法" class="headerlink" title="一、创建语法"></a>一、创建语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名（参数列表）</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">		存储过程体（一组合法的<span class="keyword">sql</span>语句）</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<ol>
<li><p>参数列表包含三部分</p>
<p>参数模式     参数名    参数类型    举例：in    stuname    varchar(20)</p>
<p>参数模式：</p>
<p>in：该参数可以作为输入，也就是该参数需要调用方传入值</p>
<p>out：该参数可以作为输出，也就是该参数可以作为返回值</p>
<p>inout：该参数既可以作为输入又可以作为输出，也就是该参数既需要传入值，又可以返回值</p>
</li>
<li><p>如果存储过程体仅仅只有一句话，begin和end可以省略</p>
</li>
<li><p>存储过程中的每条sql语句的结尾要求必须加分号</p>
<p>存储过程结尾可以使用delimiter重新设置    delimiter  结束标记</p>
</li>
</ol>
<h4 id="二、调用语法"><a href="#二、调用语法" class="headerlink" title="二、调用语法"></a>二、调用语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> 存储过程名（实参列表）；</span><br></pre></td></tr></table></figure>

<h4 id="三、删除存储过程"><a href="#三、删除存储过程" class="headerlink" title="三、删除存储过程"></a>三、删除存储过程</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> 存储过程名;</span><br></pre></td></tr></table></figure>

<h4 id="四、查看存储过程"><a href="#四、查看存储过程" class="headerlink" title="四、查看存储过程"></a>四、查看存储过程</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名;</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>含义：一组预先编译好的sql语句的集合，理解成批处理语句</p>
<p>好处：</p>
<ol>
<li>提高代码的重用性，</li>
<li>简化操作，</li>
<li>减少了编译次数，并且减少了和数据库服务器的连接次数，提高了效率</li>
</ol>
<p>和存储过程的区别：</p>
<p>存储过程：可以有0个返回，也可以有多个返回，适合做批量插入，批量更新</p>
<p>函数：有且仅有一个返回，适合做处理数据后返回一个结果</p>
<h4 id="一、创建语法-1"><a href="#一、创建语法-1" class="headerlink" title="一、创建语法"></a>一、创建语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> 函数名（参数列表） <span class="keyword">returns</span> 返回类型</span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line">		函数体</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ol>
<li><p>参数列表包含两部分：参数名    参数类型</p>
</li>
<li><p>函数体：肯定会有reture语句，如果没有会报错</p>
<p>​                如果return语句没有放在函数体的最后也不报错，但不建议</p>
</li>
<li><p>函数体中仅有一句话，则可以省略begin end</p>
</li>
<li><p>使用delimiter语句设置结束标记</p>
</li>
</ol>
<h4 id="二、调用语法-1"><a href="#二、调用语法-1" class="headerlink" title="二、调用语法"></a>二、调用语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 函数名(参数列表)</span><br></pre></td></tr></table></figure>

<h4 id="三、查看函数"><a href="#三、查看函数" class="headerlink" title="三、查看函数"></a>三、查看函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">function</span> 函数名;</span><br></pre></td></tr></table></figure>

<h4 id="四、删除函数"><a href="#四、删除函数" class="headerlink" title="四、删除函数"></a>四、删除函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">function</span> 函数名;</span><br></pre></td></tr></table></figure>



<h2 id="流程控制结构"><a href="#流程控制结构" class="headerlink" title="流程控制结构"></a>流程控制结构</h2><p>顺序结构：程序从上往下依次执行</p>
<p>分支结构：程序从两条或多条路径中选择一条去执行</p>
<p>循环结构：程序在满足一定条件的基础上，重复执行一段代码</p>
<h3 id="一、分支结构"><a href="#一、分支结构" class="headerlink" title="一、分支结构"></a>一、分支结构</h3><ol>
<li><p>if函数</p>
<p>功能：实现简单的双分支</p>
<p>语法：if(表达式1，表达式2，表达式3)</p>
<p>执行顺序：如果表达式1成立，则返回表达式2的值，否则返回表达式3的值</p>
<p>应用：任何地方</p>
</li>
<li><p>case结构</p>
<ul>
<li><p>情况1：类似Java中的switch语句，一般用于实现等值判断</p>
<p>语法：case 变量|表达式|字段</p>
<p>​            when 要判断的值 then 返回的值1或语句1;</p>
<p>​            when 要判断的值 then 返回的值2或语句2;</p>
<p>​            …</p>
<p>​            else 要返回的值n或语句n;</p>
<p>​            end case;</p>
</li>
<li><p>情况2：类似Java中的多重if语句，一般用于实现区间判断</p>
<p>语法：case</p>
<p>​            when 要判断的条件1 then 返回的值1或语句1;</p>
<p>​            when 要判断的条件2 then 返回的值2或语句2;</p>
<p>​            …</p>
<p>​            else 要返回的值n或语句n;</p>
<p>​            end case;</p>
</li>
</ul>
<p>特点：</p>
<ol>
<li><p>可以作为表达式，嵌套在其他语句中使用，可以放在任何地方，begin  end中，或begin  end的外面</p>
<p>可以作为独立的语句去使用，只能放在begin  end中</p>
</li>
<li><p>如果when中的值满足或条件成立，则执行对应的then后面的语句，并且结束case</p>
<p>如果都不满足，则执行else中的语句或值</p>
</li>
<li><p>else可以省略，如果else省略了，并且所有when条件都不满足，则返回null</p>
</li>
</ol>
</li>
<li><p>if结构</p>
<p>功能：实现多重分支</p>
<p>语法：</p>
<p>​    if    条件1    then    语句1；</p>
<p>​    elseif    条件2    then    语句2；</p>
<p>​    …</p>
<p>​    [else    语句n]</p>
<p>​    end if</p>
</li>
</ol>
<h3 id="二、循环结构"><a href="#二、循环结构" class="headerlink" title="二、循环结构"></a>二、循环结构</h3><p>分类：while 、loop、repeat</p>
<p>循环控制：</p>
<p>inerate 类似于    continue,继续，结束本次循环，继续下一次</p>
<p>leave 类似于    break ，跳出，结束当前所在循环</p>
<ol>
<li><p>while</p>
<p>语法：</p>
<p>​        while 循环条件 do</p>
<p>​                        循环体；</p>
<p>​        end while；</p>
<p>特点：先判断后执行</p>
</li>
<li><p>loop</p>
<p>语法：</p>
<p>​        loop</p>
<p>​            循环体；</p>
<p>​        end loop；</p>
<p>特点：可以用来模拟简单的死循环</p>
</li>
<li><p>repeat</p>
<p>语法：</p>
<p>​        repeat</p>
<p>​                循环体；</p>
<p>​        until 结束循环的条件</p>
<p>​        end repeat;</p>
<p>特点：先执行后判断</p>
</li>
</ol>
<p>​    </p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>熊涛子
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="http://www.imxtz.top/2022/07/24/20/47/58/" title="MySQL基础学习笔记">http://www.imxtz.top/2022/07/24/20/47/58/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/04/22/09/17/12/" rel="prev" title="Markdown">
                  <i class="fa fa-chevron-left"></i> Markdown
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">熊涛子</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">37k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">33 分钟</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

<span id="sitetime"></span>
<script language=javascript>
 function siteTime(){
  window.setTimeout("siteTime()", 1000);
  var seconds = 1000;
  var minutes = seconds * 60;
  var hours = minutes * 60;
  var days = hours * 24;
  var years = days * 365;
  var today = new Date();
  var todayYear = today.getFullYear();
  var todayMonth = today.getMonth()+1;
  var todayDate = today.getDate();
  var todayHour = today.getHours();
  var todayMinute = today.getMinutes();
  var todaySecond = today.getSeconds();
  /* 
  Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
  year - 作为date对象的年份，为4位年份值
  month - 0-11之间的整数，做为date对象的月份
  day - 1-31之间的整数，做为date对象的天数
  hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
  minutes - 0-59之间的整数，做为date对象的分钟数
  seconds - 0-59之间的整数，做为date对象的秒数
  microseconds - 0-999之间的整数，做为date对象的毫秒数
        */
  var t1 = Date.UTC(2022,04,19,22,45,00); //北京时间2018-2-13 00:00:00
  var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
  var diff = t2-t1;
  var diffYears = Math.floor(diff/years);
  var diffDays = Math.floor((diff/days)-diffYears*365);
  var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
  var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
  var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
  document.getElementById("sitetime").innerHTML=" 本站已安全运行"+/*diffYears+" 年 "+*/diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
 }
 siteTime();
</script>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
